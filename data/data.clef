{"@t":"2023-10-19T11:54:57.9827300Z","@mt":"POSTing to schedule check endpoint","@i":"0cc01c1f","Application":"Test Storefront"}
{"@t":"2023-10-19T11:54:57.9874940Z","@mt":"Checking and running jobs from queue until {DoNotStartAfter}","@i":"7ae953f9","@tr":"f4ef51f0ae21388204f06fab5766b677","@sp":"e1813ccfb57d2d34","@ra":{"service":{"name":"Datalust.Web.Seq"},"telemetry":{"sdk":{"language":"dotnet","name":"serilog","version":"1.2.0-dev-00247"}}},"ActionId":"ed5db20c-e6b4-4c06-837d-59924452c54e","ActionName":"Datalust.Web.Seq.Api.Schedule.ScheduleApiController.Check (Datalust.Web.Seq)","Application":"Datalust.Web.Seq","ConnectionId":"0HMUG80VGECCQ","DoNotStartAfter":"2023-10-19T11:55:17.9874860+00:00","ImageVersion":"99.99.99","JobRunnerInstance":"77d3f7e4bee147048252b97bf71ee936","RequestId":"0HMUG80VGECCQ:00000001","RequestPath":"/api/schedule/check","SourceContext":"Datalust.Web.Seq.Infrastructure.Scheduling.JobRunner"}
{"@t":"2023-10-19T11:54:57.9976650Z","@mt":"datalust","@i":"80d4e8b6","@tr":"f4ef51f0ae21388204f06fab5766b677","@sp":"7be4483b62d02de0","@st":"2023-10-19T11:54:57.9879760Z","@ps":"7280e9361b5aee5e","@ra":{"service":{"instance":{"id":"41f1d0cb-a873-4d56-9c1e-74227e6bff3f"},"name":"Datalust.Web.Seq","version":"99.99.99"},"telemetry":{"sdk":{"language":"dotnet","name":"opentelemetry","version":"1.6.0"}}},"db":{"connection_id":462,"connection_string":"Host=localhost;Port=5432;Database=datalust;Username=postgres","name":"datalust","statement":"\n                        update datalust.job\n                        set status = @Running,\n                            leasedby = @LeasedBy,\n                            leaseduntil = now() + interval '5 minutes',\n                            attemptsremaining = attemptsremaining - 1\n                        where id = (select id from datalust.job\n                                    where status in (@Waiting, @Running, @Failed) and\n                                        dueat < @MinimumDueAt and\n                                        (leasedby is null or leaseduntil < now()) and\n                                        attemptsremaining > 0\n                                    for update skip locked\n                                    limit 1)\n                        returning id;","system":"postgresql","user":"postgres"},"net":{"peer":{"ip":"::1","name":"localhost"},"transport":"ip_tcp"},"peer":{"service":"localhost"}}
{"@t":"2023-10-19T11:54:57.9998180Z","@mt":"Lease next job","@i":"babf7e54","@tr":"f4ef51f0ae21388204f06fab5766b677","@sp":"7280e9361b5aee5e","@st":"2023-10-19T11:54:57.9878460Z","@ps":"df9b8d945d20a393","@ra":{"service":{"instance":{"id":"41f1d0cb-a873-4d56-9c1e-74227e6bff3f"},"name":"Datalust.Web.Seq","version":"99.99.99"},"telemetry":{"sdk":{"language":"dotnet","name":"opentelemetry","version":"1.6.0"}}}}
{"@t":"2023-10-19T11:54:57.9998440Z","@mt":"Queue is exhausted","@i":"9094e2ac","@tr":"f4ef51f0ae21388204f06fab5766b677","@sp":"df9b8d945d20a393","@ra":{"service":{"name":"Datalust.Web.Seq"},"telemetry":{"sdk":{"language":"dotnet","name":"serilog","version":"1.2.0-dev-00247"}}},"ActionId":"ed5db20c-e6b4-4c06-837d-59924452c54e","ActionName":"Datalust.Web.Seq.Api.Schedule.ScheduleApiController.Check (Datalust.Web.Seq)","Application":"Datalust.Web.Seq","ConnectionId":"0HMUG80VGECCQ","ImageVersion":"99.99.99","JobRunnerInstance":"77d3f7e4bee147048252b97bf71ee936","RequestId":"0HMUG80VGECCQ:00000001","RequestPath":"/api/schedule/check","SourceContext":"Datalust.Web.Seq.Infrastructure.Scheduling.JobRunner"}
{"@t":"2023-10-19T11:54:57.9999710Z","@mt":"Check job schedule","@i":"49dc34bb","@tr":"f4ef51f0ae21388204f06fab5766b677","@sp":"df9b8d945d20a393","@st":"2023-10-19T11:54:57.9878020Z","@ps":"e1813ccfb57d2d34","@ra":{"service":{"instance":{"id":"41f1d0cb-a873-4d56-9c1e-74227e6bff3f"},"name":"Datalust.Web.Seq","version":"99.99.99"},"telemetry":{"sdk":{"language":"dotnet","name":"opentelemetry","version":"1.6.0"}}}}
{"@t":"2023-10-19T11:54:58.0001120Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@i":"37aa1435","@r":["13.4023"],"@ra":{"service":{"name":"Datalust.Web.Seq"},"telemetry":{"sdk":{"language":"dotnet","name":"serilog","version":"1.2.0-dev-00247"}}},"Application":"Datalust.Web.Seq","ConnectionId":"0HMUG80VGECCQ","Elapsed":13.40225,"ImageVersion":"99.99.99","RequestId":"0HMUG80VGECCQ:00000001","RequestMethod":"POST","RequestPath":"/api/schedule/check","SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","StatusCode":200}
{"@t":"2023-10-19T11:54:58.0003140Z","@mt":"api/schedule/check","@i":"6bc7132d","@tr":"f4ef51f0ae21388204f06fab5766b677","@sp":"e1813ccfb57d2d34","@st":"2023-10-19T11:54:57.9864870Z","@ra":{"service":{"instance":{"id":"41f1d0cb-a873-4d56-9c1e-74227e6bff3f"},"name":"Datalust.Web.Seq","version":"99.99.99"},"telemetry":{"sdk":{"language":"dotnet","name":"opentelemetry","version":"1.6.0"}}},"http":{"flavor":"1.1","method":"POST","route":"api/schedule/check","scheme":"http","status_code":200,"target":"/api/schedule/check","url":"http://localhost:8080/api/schedule/check"},"net":{"host":{"name":"localhost","port":8080}}}
{"@t":"2023-10-19T11:55:01.4830810Z","@mt":"Health check {Method} {TargetUrl} {Outcome} with status code {StatusCode} in {Elapsed:0.000} ms","@i":"decf5ef6","@r":["210.583"],"ContentLength":3057,"ContentType":"text/html; charset=UTF-8","Elapsed":210.5825,"HealthCheckTitle":"Check health","InitialContent":"<!DOCTYPE html>\n","Method":"GET","Outcome":"succeeded","ProbeId":"heeHCjeLe6Qe","StatusCode":200,"TargetUrl":"https://www.withouttheloop.com"}
{"@t":"2023-10-19T14:28:22.4454730Z","@mt":"POSTing to schedule check endpoint","@i":"0cc01c1f","Application":"Test Storefront"}
{"@t":"2023-10-19T14:28:22.4495570Z","@mt":"Checking and running jobs from queue until {DoNotStartAfter}","@i":"7ae953f9","@tr":"7c5a92e21a71bad3b24931f1c8372176","@sp":"3d41b5a0ce1e3f03","@ra":{"service":{"name":"Datalust.Web.Seq"},"telemetry":{"sdk":{"language":"dotnet","name":"serilog","version":"1.2.0-dev-00247"}}},"ActionId":"ed5db20c-e6b4-4c06-837d-59924452c54e","ActionName":"Datalust.Web.Seq.Api.Schedule.ScheduleApiController.Check (Datalust.Web.Seq)","Application":"Datalust.Web.Seq","ConnectionId":"0HMUG80VGECCR","DoNotStartAfter":"2023-10-19T14:28:42.4495520+00:00","ImageVersion":"99.99.99","JobRunnerInstance":"75712df50f0d4952922ada4487b3a134","RequestId":"0HMUG80VGECCR:00000001","RequestPath":"/api/schedule/check","SourceContext":"Datalust.Web.Seq.Infrastructure.Scheduling.JobRunner"}
{"@t":"2023-10-19T14:28:22.4539470Z","@mt":"datalust","@i":"80d4e8b6","@tr":"7c5a92e21a71bad3b24931f1c8372176","@sp":"a77e79f9be64c4cc","@st":"2023-10-19T14:28:22.4499590Z","@ps":"847e20dec90bd1b8","@ra":{"service":{"instance":{"id":"41f1d0cb-a873-4d56-9c1e-74227e6bff3f"},"name":"Datalust.Web.Seq","version":"99.99.99"},"telemetry":{"sdk":{"language":"dotnet","name":"opentelemetry","version":"1.6.0"}}},"db":{"connection_id":462,"connection_string":"Host=localhost;Port=5432;Database=datalust;Username=postgres","name":"datalust","statement":"\n                        update datalust.job\n                        set status = @Running,\n                            leasedby = @LeasedBy,\n                            leaseduntil = now() + interval '5 minutes',\n                            attemptsremaining = attemptsremaining - 1\n                        where id = (select id from datalust.job\n                                    where status in (@Waiting, @Running, @Failed) and\n                                        dueat < @MinimumDueAt and\n                                        (leasedby is null or leaseduntil < now()) and\n                                        attemptsremaining > 0\n                                    for update skip locked\n                                    limit 1)\n                        returning id;","system":"postgresql","user":"postgres"},"net":{"peer":{"ip":"::1","name":"localhost"},"transport":"ip_tcp"},"peer":{"service":"localhost"}}
{"@t":"2023-10-19T14:28:22.4554690Z","@mt":"Lease next job","@i":"babf7e54","@tr":"7c5a92e21a71bad3b24931f1c8372176","@sp":"847e20dec90bd1b8","@st":"2023-10-19T14:28:22.4498220Z","@ps":"35d5bd7088392f35","@ra":{"service":{"instance":{"id":"41f1d0cb-a873-4d56-9c1e-74227e6bff3f"},"name":"Datalust.Web.Seq","version":"99.99.99"},"telemetry":{"sdk":{"language":"dotnet","name":"opentelemetry","version":"1.6.0"}}}}
{"@t":"2023-10-19T14:28:22.4555010Z","@mt":"Queue is exhausted","@i":"9094e2ac","@tr":"7c5a92e21a71bad3b24931f1c8372176","@sp":"35d5bd7088392f35","@ra":{"service":{"name":"Datalust.Web.Seq"},"telemetry":{"sdk":{"language":"dotnet","name":"serilog","version":"1.2.0-dev-00247"}}},"ActionId":"ed5db20c-e6b4-4c06-837d-59924452c54e","ActionName":"Datalust.Web.Seq.Api.Schedule.ScheduleApiController.Check (Datalust.Web.Seq)","Application":"Datalust.Web.Seq","ConnectionId":"0HMUG80VGECCR","ImageVersion":"99.99.99","JobRunnerInstance":"75712df50f0d4952922ada4487b3a134","RequestId":"0HMUG80VGECCR:00000001","RequestPath":"/api/schedule/check","SourceContext":"Datalust.Web.Seq.Infrastructure.Scheduling.JobRunner"}
{"@t":"2023-10-19T14:28:22.4556560Z","@mt":"Check job schedule","@i":"49dc34bb","@tr":"7c5a92e21a71bad3b24931f1c8372176","@sp":"35d5bd7088392f35","@st":"2023-10-19T14:28:22.4497640Z","@ps":"3d41b5a0ce1e3f03","@ra":{"service":{"instance":{"id":"41f1d0cb-a873-4d56-9c1e-74227e6bff3f"},"name":"Datalust.Web.Seq","version":"99.99.99"},"telemetry":{"sdk":{"language":"dotnet","name":"opentelemetry","version":"1.6.0"}}}}
{"@t":"2023-10-19T14:28:22.4558500Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@i":"37aa1435","@r":["6.8987"],"@ra":{"service":{"name":"Datalust.Web.Seq"},"telemetry":{"sdk":{"language":"dotnet","name":"serilog","version":"1.2.0-dev-00247"}}},"Application":"Datalust.Web.Seq","ConnectionId":"0HMUG80VGECCR","Elapsed":6.898667,"ImageVersion":"99.99.99","RequestId":"0HMUG80VGECCR:00000001","RequestMethod":"POST","RequestPath":"/api/schedule/check","SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","StatusCode":200}
{"@t":"2023-10-19T14:28:22.4560400Z","@mt":"api/schedule/check","@i":"6bc7132d","@tr":"7c5a92e21a71bad3b24931f1c8372176","@sp":"3d41b5a0ce1e3f03","@st":"2023-10-19T14:28:22.4486810Z","@ra":{"service":{"instance":{"id":"41f1d0cb-a873-4d56-9c1e-74227e6bff3f"},"name":"Datalust.Web.Seq","version":"99.99.99"},"telemetry":{"sdk":{"language":"dotnet","name":"opentelemetry","version":"1.6.0"}}},"http":{"flavor":"1.1","method":"POST","route":"api/schedule/check","scheme":"http","status_code":200,"target":"/api/schedule/check","url":"http://localhost:8080/api/schedule/check"},"net":{"host":{"name":"localhost","port":8080}}}
{"@t":"2023-10-19T14:44:46.9239740Z","@mt":"Health check {Method} {TargetUrl} {Outcome} with status code {StatusCode} in {Elapsed:0.000} ms","@i":"decf5ef6","@r":["553.064"],"ContentLength":3057,"ContentType":"text/html; charset=UTF-8","Elapsed":553.0636,"HealthCheckTitle":"Check health","InitialContent":"<!DOCTYPE html>\n","Method":"GET","Outcome":"succeeded","ProbeId":"vda4J2IjuHie","StatusCode":200,"TargetUrl":"https://www.withouttheloop.com"}
{"@t":"2023-10-19T15:02:45.5480530Z","@mt":"Connect to PostgreSQL","@i":"31d2dbb6","@tr":"3c26a3a09267de7d4039295de4eae6ea","@sp":"64c2608a859c28f7","@st":"2023-10-19T15:02:45.5479780Z","@ps":"19369179c15c2a50","@ra":{"service":{"instance":{"id":"41f1d0cb-a873-4d56-9c1e-74227e6bff3f"},"name":"Datalust.Web.Seq","version":"99.99.99"},"telemetry":{"sdk":{"language":"dotnet","name":"opentelemetry","version":"1.6.0"}}}}
{"@t":"2023-10-19T15:02:45.5672190Z","@mt":"datalust","@i":"80d4e8b6","@tr":"3c26a3a09267de7d4039295de4eae6ea","@sp":"cd3d7848dfaf1ab5","@st":"2023-10-19T15:02:45.5481460Z","@ps":"19369179c15c2a50","@ra":{"service":{"instance":{"id":"41f1d0cb-a873-4d56-9c1e-74227e6bff3f"},"name":"Datalust.Web.Seq","version":"99.99.99"},"telemetry":{"sdk":{"language":"dotnet","name":"opentelemetry","version":"1.6.0"}}},"db":{"connection_id":462,"connection_string":"Host=localhost;Port=5432;Database=datalust;Username=postgres","name":"datalust","statement":"select * from datalust.release","system":"postgresql","user":"postgres"},"net":{"peer":{"ip":"::1","name":"localhost"},"transport":"ip_tcp"},"peer":{"service":"localhost"}}
{"@t":"2023-10-19T15:02:45.5698740Z","@mt":"Workflow step","@i":"1a01ce8c","@tr":"3c26a3a09267de7d4039295de4eae6ea","@sp":"19369179c15c2a50","@st":"2023-10-19T15:02:45.5479200Z","@ra":{"service":{"instance":{"id":"41f1d0cb-a873-4d56-9c1e-74227e6bff3f"},"name":"Datalust.Web.Seq","version":"99.99.99"},"telemetry":{"sdk":{"language":"dotnet","name":"opentelemetry","version":"1.6.0"}}},"StepId":"6301ed928d8f4bbb95c2dfb943e89c3a","WorkflowStepState":"ReadOnly"}
{"@t":"2023-10-19T17:16:04.2770670Z","@mt":"POSTing to schedule check endpoint","@i":"0cc01c1f","Application":"Test Storefront"}
{"@t":"2023-10-19T17:16:04.2801830Z","@mt":"Checking and running jobs from queue until {DoNotStartAfter}","@i":"7ae953f9","@tr":"ea5ff3b315b30ab98cd7828a9b889466","@sp":"99c06c0e45ffced5","@ra":{"service":{"name":"Datalust.Web.Seq"},"telemetry":{"sdk":{"language":"dotnet","name":"serilog","version":"1.2.0-dev-00247"}}},"ActionId":"ed5db20c-e6b4-4c06-837d-59924452c54e","ActionName":"Datalust.Web.Seq.Api.Schedule.ScheduleApiController.Check (Datalust.Web.Seq)","Application":"Datalust.Web.Seq","ConnectionId":"0HMUG80VGECCS","DoNotStartAfter":"2023-10-19T17:16:24.2801790+00:00","ImageVersion":"99.99.99","JobRunnerInstance":"2eb4234ea9f94bf5bd7afe33f55d8fb2","RequestId":"0HMUG80VGECCS:00000001","RequestPath":"/api/schedule/check","SourceContext":"Datalust.Web.Seq.Infrastructure.Scheduling.JobRunner"}
{"@t":"2023-10-19T17:16:04.2853110Z","@mt":"datalust","@i":"80d4e8b6","@tr":"ea5ff3b315b30ab98cd7828a9b889466","@sp":"efcdb2e41f66e7ab","@st":"2023-10-19T17:16:04.2804880Z","@ps":"41984d32be02c085","@ra":{"service":{"instance":{"id":"41f1d0cb-a873-4d56-9c1e-74227e6bff3f"},"name":"Datalust.Web.Seq","version":"99.99.99"},"telemetry":{"sdk":{"language":"dotnet","name":"opentelemetry","version":"1.6.0"}}},"db":{"connection_id":462,"connection_string":"Host=localhost;Port=5432;Database=datalust;Username=postgres","name":"datalust","statement":"\n                        update datalust.job\n                        set status = @Running,\n                            leasedby = @LeasedBy,\n                            leaseduntil = now() + interval '5 minutes',\n                            attemptsremaining = attemptsremaining - 1\n                        where id = (select id from datalust.job\n                                    where status in (@Waiting, @Running, @Failed) and\n                                        dueat < @MinimumDueAt and\n                                        (leasedby is null or leaseduntil < now()) and\n                                        attemptsremaining > 0\n                                    for update skip locked\n                                    limit 1)\n                        returning id;","system":"postgresql","user":"postgres"},"net":{"peer":{"ip":"::1","name":"localhost"},"transport":"ip_tcp"},"peer":{"service":"localhost"}}
{"@t":"2023-10-19T17:16:04.2873660Z","@mt":"Lease next job","@i":"babf7e54","@tr":"ea5ff3b315b30ab98cd7828a9b889466","@sp":"41984d32be02c085","@st":"2023-10-19T17:16:04.2804150Z","@ps":"4646ca2b5def3b72","@ra":{"service":{"instance":{"id":"41f1d0cb-a873-4d56-9c1e-74227e6bff3f"},"name":"Datalust.Web.Seq","version":"99.99.99"},"telemetry":{"sdk":{"language":"dotnet","name":"opentelemetry","version":"1.6.0"}}}}
{"@t":"2023-10-19T17:16:04.2873890Z","@mt":"Queue is exhausted","@i":"9094e2ac","@tr":"ea5ff3b315b30ab98cd7828a9b889466","@sp":"4646ca2b5def3b72","@ra":{"service":{"name":"Datalust.Web.Seq"},"telemetry":{"sdk":{"language":"dotnet","name":"serilog","version":"1.2.0-dev-00247"}}},"ActionId":"ed5db20c-e6b4-4c06-837d-59924452c54e","ActionName":"Datalust.Web.Seq.Api.Schedule.ScheduleApiController.Check (Datalust.Web.Seq)","Application":"Datalust.Web.Seq","ConnectionId":"0HMUG80VGECCS","ImageVersion":"99.99.99","JobRunnerInstance":"2eb4234ea9f94bf5bd7afe33f55d8fb2","RequestId":"0HMUG80VGECCS:00000001","RequestPath":"/api/schedule/check","SourceContext":"Datalust.Web.Seq.Infrastructure.Scheduling.JobRunner"}
{"@t":"2023-10-19T17:16:04.2875560Z","@mt":"Check job schedule","@i":"49dc34bb","@tr":"ea5ff3b315b30ab98cd7828a9b889466","@sp":"4646ca2b5def3b72","@st":"2023-10-19T17:16:04.2803850Z","@ps":"99c06c0e45ffced5","@ra":{"service":{"instance":{"id":"41f1d0cb-a873-4d56-9c1e-74227e6bff3f"},"name":"Datalust.Web.Seq","version":"99.99.99"},"telemetry":{"sdk":{"language":"dotnet","name":"opentelemetry","version":"1.6.0"}}}}
{"@t":"2023-10-19T17:16:04.2877160Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@i":"37aa1435","@r":["7.9342"],"@ra":{"service":{"name":"Datalust.Web.Seq"},"telemetry":{"sdk":{"language":"dotnet","name":"serilog","version":"1.2.0-dev-00247"}}},"Application":"Datalust.Web.Seq","ConnectionId":"0HMUG80VGECCS","Elapsed":7.934167,"ImageVersion":"99.99.99","RequestId":"0HMUG80VGECCS:00000001","RequestMethod":"POST","RequestPath":"/api/schedule/check","SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","StatusCode":200}
{"@t":"2023-10-19T17:16:04.2879830Z","@mt":"api/schedule/check","@i":"6bc7132d","@tr":"ea5ff3b315b30ab98cd7828a9b889466","@sp":"99c06c0e45ffced5","@st":"2023-10-19T17:16:04.2796070Z","@ra":{"service":{"instance":{"id":"41f1d0cb-a873-4d56-9c1e-74227e6bff3f"},"name":"Datalust.Web.Seq","version":"99.99.99"},"telemetry":{"sdk":{"language":"dotnet","name":"opentelemetry","version":"1.6.0"}}},"http":{"flavor":"1.1","method":"POST","route":"api/schedule/check","scheme":"http","status_code":200,"target":"/api/schedule/check","url":"http://localhost:8080/api/schedule/check"},"net":{"host":{"name":"localhost","port":8080}}}
{"@t":"2023-10-19T17:31:50.7032930Z","@mt":"Health check {Method} {TargetUrl} {Outcome} with status code {StatusCode} in {Elapsed:0.000} ms","@i":"decf5ef6","@r":["194.630"],"ContentLength":3057,"ContentType":"text/html; charset=UTF-8","Elapsed":194.63,"HealthCheckTitle":"Check health","InitialContent":"<!DOCTYPE html>\n","Method":"GET","Outcome":"succeeded","ProbeId":"qIcFUc5dNPbH","StatusCode":200,"TargetUrl":"https://www.withouttheloop.com"}
{"@t":"2023-10-19T19:58:38.4467850Z","@mt":"POSTing to schedule check endpoint","@i":"0cc01c1f","Application":"Test Storefront"}
{"@t":"2023-10-19T19:58:38.4498010Z","@mt":"Checking and running jobs from queue until {DoNotStartAfter}","@i":"7ae953f9","@tr":"562610a3626c4be98725c76a2068f02b","@sp":"94fee1e605a68157","@ra":{"service":{"name":"Datalust.Web.Seq"},"telemetry":{"sdk":{"language":"dotnet","name":"serilog","version":"1.2.0-dev-00247"}}},"ActionId":"ed5db20c-e6b4-4c06-837d-59924452c54e","ActionName":"Datalust.Web.Seq.Api.Schedule.ScheduleApiController.Check (Datalust.Web.Seq)","Application":"Datalust.Web.Seq","ConnectionId":"0HMUG80VGECCT","DoNotStartAfter":"2023-10-19T19:58:58.4497970+00:00","ImageVersion":"99.99.99","JobRunnerInstance":"45257ab18a6146ae97801585984313a7","RequestId":"0HMUG80VGECCT:00000001","RequestPath":"/api/schedule/check","SourceContext":"Datalust.Web.Seq.Infrastructure.Scheduling.JobRunner"}
{"@t":"2023-10-19T19:58:38.4543270Z","@mt":"datalust","@i":"80d4e8b6","@tr":"562610a3626c4be98725c76a2068f02b","@sp":"b1bbabc11e15df10","@st":"2023-10-19T19:58:38.4501010Z","@ps":"4c3da58ed877b7d1","@ra":{"service":{"instance":{"id":"41f1d0cb-a873-4d56-9c1e-74227e6bff3f"},"name":"Datalust.Web.Seq","version":"99.99.99"},"telemetry":{"sdk":{"language":"dotnet","name":"opentelemetry","version":"1.6.0"}}},"db":{"connection_id":462,"connection_string":"Host=localhost;Port=5432;Database=datalust;Username=postgres","name":"datalust","statement":"\n                        update datalust.job\n                        set status = @Running,\n                            leasedby = @LeasedBy,\n                            leaseduntil = now() + interval '5 minutes',\n                            attemptsremaining = attemptsremaining - 1\n                        where id = (select id from datalust.job\n                                    where status in (@Waiting, @Running, @Failed) and\n                                        dueat < @MinimumDueAt and\n                                        (leasedby is null or leaseduntil < now()) and\n                                        attemptsremaining > 0\n                                    for update skip locked\n                                    limit 1)\n                        returning id;","system":"postgresql","user":"postgres"},"net":{"peer":{"ip":"::1","name":"localhost"},"transport":"ip_tcp"},"peer":{"service":"localhost"}}
{"@t":"2023-10-19T19:58:38.4568680Z","@mt":"Lease next job","@i":"babf7e54","@tr":"562610a3626c4be98725c76a2068f02b","@sp":"4c3da58ed877b7d1","@st":"2023-10-19T19:58:38.4500170Z","@ps":"c08aca749d8eeecc","@ra":{"service":{"instance":{"id":"41f1d0cb-a873-4d56-9c1e-74227e6bff3f"},"name":"Datalust.Web.Seq","version":"99.99.99"},"telemetry":{"sdk":{"language":"dotnet","name":"opentelemetry","version":"1.6.0"}}}}
{"@t":"2023-10-19T19:58:38.4568930Z","@mt":"Queue is exhausted","@i":"9094e2ac","@tr":"562610a3626c4be98725c76a2068f02b","@sp":"c08aca749d8eeecc","@ra":{"service":{"name":"Datalust.Web.Seq"},"telemetry":{"sdk":{"language":"dotnet","name":"serilog","version":"1.2.0-dev-00247"}}},"ActionId":"ed5db20c-e6b4-4c06-837d-59924452c54e","ActionName":"Datalust.Web.Seq.Api.Schedule.ScheduleApiController.Check (Datalust.Web.Seq)","Application":"Datalust.Web.Seq","ConnectionId":"0HMUG80VGECCT","ImageVersion":"99.99.99","JobRunnerInstance":"45257ab18a6146ae97801585984313a7","RequestId":"0HMUG80VGECCT:00000001","RequestPath":"/api/schedule/check","SourceContext":"Datalust.Web.Seq.Infrastructure.Scheduling.JobRunner"}
{"@t":"2023-10-19T19:58:38.4570540Z","@mt":"Check job schedule","@i":"49dc34bb","@tr":"562610a3626c4be98725c76a2068f02b","@sp":"c08aca749d8eeecc","@st":"2023-10-19T19:58:38.4499940Z","@ps":"94fee1e605a68157","@ra":{"service":{"instance":{"id":"41f1d0cb-a873-4d56-9c1e-74227e6bff3f"},"name":"Datalust.Web.Seq","version":"99.99.99"},"telemetry":{"sdk":{"language":"dotnet","name":"opentelemetry","version":"1.6.0"}}}}
{"@t":"2023-10-19T19:58:38.4572270Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@i":"37aa1435","@r":["7.8055"],"@ra":{"service":{"name":"Datalust.Web.Seq"},"telemetry":{"sdk":{"language":"dotnet","name":"serilog","version":"1.2.0-dev-00247"}}},"Application":"Datalust.Web.Seq","ConnectionId":"0HMUG80VGECCT","Elapsed":7.8055,"ImageVersion":"99.99.99","RequestId":"0HMUG80VGECCT:00000001","RequestMethod":"POST","RequestPath":"/api/schedule/check","SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","StatusCode":200}
{"@t":"2023-10-19T19:58:38.4574850Z","@mt":"api/schedule/check","@i":"6bc7132d","@tr":"562610a3626c4be98725c76a2068f02b","@sp":"94fee1e605a68157","@st":"2023-10-19T19:58:38.4492800Z","@ra":{"service":{"instance":{"id":"41f1d0cb-a873-4d56-9c1e-74227e6bff3f"},"name":"Datalust.Web.Seq","version":"99.99.99"},"telemetry":{"sdk":{"language":"dotnet","name":"opentelemetry","version":"1.6.0"}}},"http":{"flavor":"1.1","method":"POST","route":"api/schedule/check","scheme":"http","status_code":200,"target":"/api/schedule/check","url":"http://localhost:8080/api/schedule/check"},"net":{"host":{"name":"localhost","port":8080}}}
{"@t":"2023-10-19T20:13:54.8383580Z","@mt":"Health check {Method} {TargetUrl} {Outcome} with status code {StatusCode} in {Elapsed:0.000} ms","@i":"decf5ef6","@r":["211.041"],"ContentLength":3057,"ContentType":"text/html; charset=UTF-8","Elapsed":211.0409,"HealthCheckTitle":"Check health","InitialContent":"<!DOCTYPE html>\n","Method":"GET","Outcome":"succeeded","ProbeId":"YKo2vJr1h975","StatusCode":200,"TargetUrl":"https://www.withouttheloop.com"}
{"@t":"2023-10-19T20:13:57.9122450Z","@mt":"datalust","@i":"80d4e8b6","@tr":"2fe86287ae7a6c110d59c088b857f899","@sp":"a92536973949e130","@st":"2023-10-19T20:13:57.9052910Z","@ra":{"service":{"instance":{"id":"41f1d0cb-a873-4d56-9c1e-74227e6bff3f"},"name":"Datalust.Web.Seq","version":"99.99.99"},"telemetry":{"sdk":{"language":"dotnet","name":"opentelemetry","version":"1.6.0"}}},"db":{"connection_id":462,"connection_string":"Host=localhost;Port=5432;Database=datalust;Username=postgres","name":"datalust","statement":"select * from datalust.subscriptiontier where generation = any(@AllowedGenerations)","system":"postgresql","user":"postgres"},"net":{"peer":{"ip":"::1","name":"localhost"},"transport":"ip_tcp"},"peer":{"service":"localhost"}}
{"@t":"2023-10-19T20:30:22.4533600Z","@mt":"Connect to PostgreSQL","@i":"31d2dbb6","@tr":"aa53fa066b83896b92f04947f1f81016","@sp":"a136483ff25bb4b1","@st":"2023-10-19T20:30:22.4532630Z","@ps":"6ee4fc00ae0b9a86","@ra":{"service":{"instance":{"id":"41f1d0cb-a873-4d56-9c1e-74227e6bff3f"},"name":"Datalust.Web.Seq","version":"99.99.99"},"telemetry":{"sdk":{"language":"dotnet","name":"opentelemetry","version":"1.6.0"}}}}
{"@t":"2023-10-19T20:30:22.4615600Z","@mt":"datalust","@i":"80d4e8b6","@tr":"aa53fa066b83896b92f04947f1f81016","@sp":"c38d5c5e6178d586","@st":"2023-10-19T20:30:22.4534240Z","@ps":"6ee4fc00ae0b9a86","@ra":{"service":{"instance":{"id":"41f1d0cb-a873-4d56-9c1e-74227e6bff3f"},"name":"Datalust.Web.Seq","version":"99.99.99"},"telemetry":{"sdk":{"language":"dotnet","name":"opentelemetry","version":"1.6.0"}}},"db":{"connection_id":462,"connection_string":"Host=localhost;Port=5432;Database=datalust;Username=postgres","name":"datalust","statement":"select * from datalust.release","system":"postgresql","user":"postgres"},"net":{"peer":{"ip":"::1","name":"localhost"},"transport":"ip_tcp"},"peer":{"service":"localhost"}}
{"@t":"2023-10-19T20:30:22.4661160Z","@mt":"Workflow step","@i":"1a01ce8c","@tr":"aa53fa066b83896b92f04947f1f81016","@sp":"6ee4fc00ae0b9a86","@st":"2023-10-19T20:30:22.4531980Z","@ra":{"service":{"instance":{"id":"41f1d0cb-a873-4d56-9c1e-74227e6bff3f"},"name":"Datalust.Web.Seq","version":"99.99.99"},"telemetry":{"sdk":{"language":"dotnet","name":"opentelemetry","version":"1.6.0"}}},"StepId":"e4e3a60370d7417799f9b148855b71dd","WorkflowStepState":"ReadOnly"}
{"@t":"2023-10-19T20:30:25.7532510Z","@mt":"Downloading RSS feed {RssFeedUrl}","@i":"3155826b","@ra":{"service":{"name":"Datalust.Web.Seq"},"telemetry":{"sdk":{"language":"dotnet","name":"serilog","version":"1.2.0-dev-00247"}}},"Application":"Datalust.Web.Seq","ImageVersion":"99.99.99","RssFeedUrl":"https://blog.datalust.co/rss","SourceContext":"Datalust.Web.Seq.Infrastructure.Blog.RssFeed"}
{"@t":"2023-10-19T20:30:25.9547170Z","@mt":"Parsing RSS feed {RssFeedUrl}","@i":"edfe31fa","@ra":{"service":{"name":"Datalust.Web.Seq"},"telemetry":{"sdk":{"language":"dotnet","name":"serilog","version":"1.2.0-dev-00247"}}},"Application":"Datalust.Web.Seq","ImageVersion":"99.99.99","RssFeedUrl":"https://blog.datalust.co/rss","SourceContext":"Datalust.Web.Seq.Infrastructure.Blog.RssFeed"}
{"@t":"2023-10-19T22:17:33.5571070Z","@mt":"POSTing to schedule check endpoint","@i":"0cc01c1f","Application":"Test Storefront"}
{"@t":"2023-10-19T22:17:33.5628260Z","@mt":"Checking and running jobs from queue until {DoNotStartAfter}","@i":"7ae953f9","@tr":"21ef9ea3e54c046201760cb03c281c7c","@sp":"13f6a4cab35b664a","@ra":{"service":{"name":"Datalust.Web.Seq"},"telemetry":{"sdk":{"language":"dotnet","name":"serilog","version":"1.2.0-dev-00247"}}},"ActionId":"ed5db20c-e6b4-4c06-837d-59924452c54e","ActionName":"Datalust.Web.Seq.Api.Schedule.ScheduleApiController.Check (Datalust.Web.Seq)","Application":"Datalust.Web.Seq","ConnectionId":"0HMUG80VGECCU","DoNotStartAfter":"2023-10-19T22:17:53.5628190+00:00","ImageVersion":"99.99.99","JobRunnerInstance":"b0cbb9bbeb6d46dc981c44fc9782bf82","RequestId":"0HMUG80VGECCU:00000001","RequestPath":"/api/schedule/check","SourceContext":"Datalust.Web.Seq.Infrastructure.Scheduling.JobRunner"}
{"@t":"2023-10-19T22:17:33.5795020Z","@mt":"datalust","@i":"80d4e8b6","@tr":"21ef9ea3e54c046201760cb03c281c7c","@sp":"80745d25712680de","@st":"2023-10-19T22:17:33.5750880Z","@ps":"92745ac64934f086","@ra":{"service":{"instance":{"id":"41f1d0cb-a873-4d56-9c1e-74227e6bff3f"},"name":"Datalust.Web.Seq","version":"99.99.99"},"telemetry":{"sdk":{"language":"dotnet","name":"opentelemetry","version":"1.6.0"}}},"db":{"connection_id":468,"connection_string":"Host=localhost;Port=5432;Database=datalust;Username=postgres","name":"datalust","statement":"\n                        update datalust.job\n                        set status = @Running,\n                            leasedby = @LeasedBy,\n                            leaseduntil = now() + interval '5 minutes',\n                            attemptsremaining = attemptsremaining - 1\n                        where id = (select id from datalust.job\n                                    where status in (@Waiting, @Running, @Failed) and\n                                        dueat < @MinimumDueAt and\n                                        (leasedby is null or leaseduntil < now()) and\n                                        attemptsremaining > 0\n                                    for update skip locked\n                                    limit 1)\n                        returning id;","system":"postgresql","user":"postgres"},"net":{"peer":{"ip":"::1","name":"localhost"},"transport":"ip_tcp"},"peer":{"service":"localhost"}}
{"@t":"2023-10-19T22:17:33.5816200Z","@mt":"Lease next job","@i":"babf7e54","@tr":"21ef9ea3e54c046201760cb03c281c7c","@sp":"92745ac64934f086","@st":"2023-10-19T22:17:33.5749270Z","@ps":"4bef8fa8bf869633","@ra":{"service":{"instance":{"id":"41f1d0cb-a873-4d56-9c1e-74227e6bff3f"},"name":"Datalust.Web.Seq","version":"99.99.99"},"telemetry":{"sdk":{"language":"dotnet","name":"opentelemetry","version":"1.6.0"}}}}
{"@t":"2023-10-19T22:17:33.5816490Z","@mt":"Queue is exhausted","@i":"9094e2ac","@tr":"21ef9ea3e54c046201760cb03c281c7c","@sp":"4bef8fa8bf869633","@ra":{"service":{"name":"Datalust.Web.Seq"},"telemetry":{"sdk":{"language":"dotnet","name":"serilog","version":"1.2.0-dev-00247"}}},"ActionId":"ed5db20c-e6b4-4c06-837d-59924452c54e","ActionName":"Datalust.Web.Seq.Api.Schedule.ScheduleApiController.Check (Datalust.Web.Seq)","Application":"Datalust.Web.Seq","ConnectionId":"0HMUG80VGECCU","ImageVersion":"99.99.99","JobRunnerInstance":"b0cbb9bbeb6d46dc981c44fc9782bf82","RequestId":"0HMUG80VGECCU:00000001","RequestPath":"/api/schedule/check","SourceContext":"Datalust.Web.Seq.Infrastructure.Scheduling.JobRunner"}
{"@t":"2023-10-19T22:17:33.5818220Z","@mt":"Check job schedule","@i":"49dc34bb","@tr":"21ef9ea3e54c046201760cb03c281c7c","@sp":"4bef8fa8bf869633","@st":"2023-10-19T22:17:33.5630640Z","@ps":"13f6a4cab35b664a","@ra":{"service":{"instance":{"id":"41f1d0cb-a873-4d56-9c1e-74227e6bff3f"},"name":"Datalust.Web.Seq","version":"99.99.99"},"telemetry":{"sdk":{"language":"dotnet","name":"opentelemetry","version":"1.6.0"}}}}
{"@t":"2023-10-19T22:17:33.5820550Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@i":"37aa1435","@r":["19.9093"],"@ra":{"service":{"name":"Datalust.Web.Seq"},"telemetry":{"sdk":{"language":"dotnet","name":"serilog","version":"1.2.0-dev-00247"}}},"Application":"Datalust.Web.Seq","ConnectionId":"0HMUG80VGECCU","Elapsed":19.90925,"ImageVersion":"99.99.99","RequestId":"0HMUG80VGECCU:00000001","RequestMethod":"POST","RequestPath":"/api/schedule/check","SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","StatusCode":200}
{"@t":"2023-10-19T22:17:33.5822410Z","@mt":"api/schedule/check","@i":"6bc7132d","@tr":"21ef9ea3e54c046201760cb03c281c7c","@sp":"13f6a4cab35b664a","@st":"2023-10-19T22:17:33.5619070Z","@ra":{"service":{"instance":{"id":"41f1d0cb-a873-4d56-9c1e-74227e6bff3f"},"name":"Datalust.Web.Seq","version":"99.99.99"},"telemetry":{"sdk":{"language":"dotnet","name":"opentelemetry","version":"1.6.0"}}},"http":{"flavor":"1.1","method":"POST","route":"api/schedule/check","scheme":"http","status_code":200,"target":"/api/schedule/check","url":"http://localhost:8080/api/schedule/check"},"net":{"host":{"name":"localhost","port":8080}}}
{"@t":"2023-10-19T22:32:49.9923810Z","@mt":"Health check {Method} {TargetUrl} {Outcome} with status code {StatusCode} in {Elapsed:0.000} ms","@i":"decf5ef6","@r":["345.135"],"ContentLength":3057,"ContentType":"text/html; charset=UTF-8","Elapsed":345.1351,"HealthCheckTitle":"Check health","InitialContent":"<!DOCTYPE html>\n","Method":"GET","Outcome":"succeeded","ProbeId":"OFCGRZQSzy8m","StatusCode":200,"TargetUrl":"https://www.withouttheloop.com"}
{"@t":"2023-10-20T00:46:17.7842320Z","@mt":"POSTing to schedule check endpoint","@i":"0cc01c1f","Application":"Test Storefront"}
{"@t":"2023-10-20T00:46:17.7878750Z","@mt":"Checking and running jobs from queue until {DoNotStartAfter}","@i":"7ae953f9","@tr":"b01def3ed06c69fe1cdd3e8175f4b710","@sp":"5fe319fd731ba3a1","@ra":{"service":{"name":"Datalust.Web.Seq"},"telemetry":{"sdk":{"language":"dotnet","name":"serilog","version":"1.2.0-dev-00247"}}},"ActionId":"ed5db20c-e6b4-4c06-837d-59924452c54e","ActionName":"Datalust.Web.Seq.Api.Schedule.ScheduleApiController.Check (Datalust.Web.Seq)","Application":"Datalust.Web.Seq","ConnectionId":"0HMUG80VGECCV","DoNotStartAfter":"2023-10-20T00:46:37.7878700+00:00","ImageVersion":"99.99.99","JobRunnerInstance":"1ffe53b9af254ec0bb91ead81200948b","RequestId":"0HMUG80VGECCV:00000001","RequestPath":"/api/schedule/check","SourceContext":"Datalust.Web.Seq.Infrastructure.Scheduling.JobRunner"}
{"@t":"2023-10-20T00:46:17.7932240Z","@mt":"datalust","@i":"80d4e8b6","@tr":"b01def3ed06c69fe1cdd3e8175f4b710","@sp":"0967269adaf3184a","@st":"2023-10-20T00:46:17.7882590Z","@ps":"69f9e83bedf1802a","@ra":{"service":{"instance":{"id":"41f1d0cb-a873-4d56-9c1e-74227e6bff3f"},"name":"Datalust.Web.Seq","version":"99.99.99"},"telemetry":{"sdk":{"language":"dotnet","name":"opentelemetry","version":"1.6.0"}}},"db":{"connection_id":468,"connection_string":"Host=localhost;Port=5432;Database=datalust;Username=postgres","name":"datalust","statement":"\n                        update datalust.job\n                        set status = @Running,\n                            leasedby = @LeasedBy,\n                            leaseduntil = now() + interval '5 minutes',\n                            attemptsremaining = attemptsremaining - 1\n                        where id = (select id from datalust.job\n                                    where status in (@Waiting, @Running, @Failed) and\n                                        dueat < @MinimumDueAt and\n                                        (leasedby is null or leaseduntil < now()) and\n                                        attemptsremaining > 0\n                                    for update skip locked\n                                    limit 1)\n                        returning id;","system":"postgresql","user":"postgres"},"net":{"peer":{"ip":"::1","name":"localhost"},"transport":"ip_tcp"},"peer":{"service":"localhost"}}
{"@t":"2023-10-20T00:46:17.7950990Z","@mt":"Lease next job","@i":"babf7e54","@tr":"b01def3ed06c69fe1cdd3e8175f4b710","@sp":"69f9e83bedf1802a","@st":"2023-10-20T00:46:17.7881610Z","@ps":"02327c3ddf263667","@ra":{"service":{"instance":{"id":"41f1d0cb-a873-4d56-9c1e-74227e6bff3f"},"name":"Datalust.Web.Seq","version":"99.99.99"},"telemetry":{"sdk":{"language":"dotnet","name":"opentelemetry","version":"1.6.0"}}}}
{"@t":"2023-10-20T00:46:17.7951210Z","@mt":"Queue is exhausted","@i":"9094e2ac","@tr":"b01def3ed06c69fe1cdd3e8175f4b710","@sp":"02327c3ddf263667","@ra":{"service":{"name":"Datalust.Web.Seq"},"telemetry":{"sdk":{"language":"dotnet","name":"serilog","version":"1.2.0-dev-00247"}}},"ActionId":"ed5db20c-e6b4-4c06-837d-59924452c54e","ActionName":"Datalust.Web.Seq.Api.Schedule.ScheduleApiController.Check (Datalust.Web.Seq)","Application":"Datalust.Web.Seq","ConnectionId":"0HMUG80VGECCV","ImageVersion":"99.99.99","JobRunnerInstance":"1ffe53b9af254ec0bb91ead81200948b","RequestId":"0HMUG80VGECCV:00000001","RequestPath":"/api/schedule/check","SourceContext":"Datalust.Web.Seq.Infrastructure.Scheduling.JobRunner"}
{"@t":"2023-10-20T00:46:17.7952390Z","@mt":"Check job schedule","@i":"49dc34bb","@tr":"b01def3ed06c69fe1cdd3e8175f4b710","@sp":"02327c3ddf263667","@st":"2023-10-20T00:46:17.7881220Z","@ps":"5fe319fd731ba3a1","@ra":{"service":{"instance":{"id":"41f1d0cb-a873-4d56-9c1e-74227e6bff3f"},"name":"Datalust.Web.Seq","version":"99.99.99"},"telemetry":{"sdk":{"language":"dotnet","name":"opentelemetry","version":"1.6.0"}}}}
{"@t":"2023-10-20T00:46:17.7953730Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@i":"37aa1435","@r":["7.9854"],"@ra":{"service":{"name":"Datalust.Web.Seq"},"telemetry":{"sdk":{"language":"dotnet","name":"serilog","version":"1.2.0-dev-00247"}}},"Application":"Datalust.Web.Seq","ConnectionId":"0HMUG80VGECCV","Elapsed":7.985417,"ImageVersion":"99.99.99","RequestId":"0HMUG80VGECCV:00000001","RequestMethod":"POST","RequestPath":"/api/schedule/check","SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","StatusCode":200}
{"@t":"2023-10-20T00:46:17.7955810Z","@mt":"api/schedule/check","@i":"6bc7132d","@tr":"b01def3ed06c69fe1cdd3e8175f4b710","@sp":"5fe319fd731ba3a1","@st":"2023-10-20T00:46:17.7871860Z","@ra":{"service":{"instance":{"id":"41f1d0cb-a873-4d56-9c1e-74227e6bff3f"},"name":"Datalust.Web.Seq","version":"99.99.99"},"telemetry":{"sdk":{"language":"dotnet","name":"opentelemetry","version":"1.6.0"}}},"http":{"flavor":"1.1","method":"POST","route":"api/schedule/check","scheme":"http","status_code":200,"target":"/api/schedule/check","url":"http://localhost:8080/api/schedule/check"},"net":{"host":{"name":"localhost","port":8080}}}
{"@t":"2023-10-20T00:46:21.2177960Z","@mt":"Health check {Method} {TargetUrl} {Outcome} with status code {StatusCode} in {Elapsed:0.000} ms","@i":"decf5ef6","@r":["223.855"],"ContentLength":3057,"ContentType":"text/html; charset=UTF-8","Elapsed":223.8554,"HealthCheckTitle":"Check health","InitialContent":"<!DOCTYPE html>\n","Method":"GET","Outcome":"succeeded","ProbeId":"ThpybGGr9Vep","StatusCode":200,"TargetUrl":"https://www.withouttheloop.com"}
{"@t":"2023-10-20T01:04:20.7735330Z","@mt":"Connect to PostgreSQL","@i":"31d2dbb6","@tr":"95515c43ffa782eb35b4f7e0da280bcd","@sp":"b107de23b14bc44c","@st":"2023-10-20T01:04:20.7734280Z","@ps":"f29c61ac78b4b373","@ra":{"service":{"instance":{"id":"41f1d0cb-a873-4d56-9c1e-74227e6bff3f"},"name":"Datalust.Web.Seq","version":"99.99.99"},"telemetry":{"sdk":{"language":"dotnet","name":"opentelemetry","version":"1.6.0"}}}}
{"@t":"2023-10-20T01:04:20.7825920Z","@mt":"datalust","@i":"80d4e8b6","@tr":"95515c43ffa782eb35b4f7e0da280bcd","@sp":"3ceaa6ffa812f2c8","@st":"2023-10-20T01:04:20.7735970Z","@ps":"f29c61ac78b4b373","@ra":{"service":{"instance":{"id":"41f1d0cb-a873-4d56-9c1e-74227e6bff3f"},"name":"Datalust.Web.Seq","version":"99.99.99"},"telemetry":{"sdk":{"language":"dotnet","name":"opentelemetry","version":"1.6.0"}}},"db":{"connection_id":468,"connection_string":"Host=localhost;Port=5432;Database=datalust;Username=postgres","name":"datalust","statement":"select * from datalust.release","system":"postgresql","user":"postgres"},"net":{"peer":{"ip":"::1","name":"localhost"},"transport":"ip_tcp"},"peer":{"service":"localhost"}}
{"@t":"2023-10-20T01:04:20.7864320Z","@mt":"Workflow step","@i":"1a01ce8c","@tr":"95515c43ffa782eb35b4f7e0da280bcd","@sp":"f29c61ac78b4b373","@st":"2023-10-20T01:04:20.7733820Z","@ra":{"service":{"instance":{"id":"41f1d0cb-a873-4d56-9c1e-74227e6bff3f"},"name":"Datalust.Web.Seq","version":"99.99.99"},"telemetry":{"sdk":{"language":"dotnet","name":"opentelemetry","version":"1.6.0"}}},"StepId":"84078b62e3a948b6ac9abf9301ef0541","WorkflowStepState":"ReadOnly"}
{"@t":"2023-10-20T03:30:31.3879160Z","@mt":"POSTing to schedule check endpoint","@i":"0cc01c1f","Application":"Test Storefront"}
{"@t":"2023-10-20T03:30:31.3916100Z","@mt":"Checking and running jobs from queue until {DoNotStartAfter}","@i":"7ae953f9","@tr":"fa0454b63ff74fe4eda329280346dee4","@sp":"4fdbd81395840c28","@ra":{"service":{"name":"Datalust.Web.Seq"},"telemetry":{"sdk":{"language":"dotnet","name":"serilog","version":"1.2.0-dev-00247"}}},"ActionId":"ed5db20c-e6b4-4c06-837d-59924452c54e","ActionName":"Datalust.Web.Seq.Api.Schedule.ScheduleApiController.Check (Datalust.Web.Seq)","Application":"Datalust.Web.Seq","ConnectionId":"0HMUG80VGECD0","DoNotStartAfter":"2023-10-20T03:30:51.3916060+00:00","ImageVersion":"99.99.99","JobRunnerInstance":"6e79ebdb30cd40ea86deed34942e3f29","RequestId":"0HMUG80VGECD0:00000001","RequestPath":"/api/schedule/check","SourceContext":"Datalust.Web.Seq.Infrastructure.Scheduling.JobRunner"}
{"@t":"2023-10-20T03:30:31.3980150Z","@mt":"datalust","@i":"80d4e8b6","@tr":"fa0454b63ff74fe4eda329280346dee4","@sp":"ad39c20e3d742400","@st":"2023-10-20T03:30:31.3919560Z","@ps":"c1b6b06aedf91db9","@ra":{"service":{"instance":{"id":"41f1d0cb-a873-4d56-9c1e-74227e6bff3f"},"name":"Datalust.Web.Seq","version":"99.99.99"},"telemetry":{"sdk":{"language":"dotnet","name":"opentelemetry","version":"1.6.0"}}},"db":{"connection_id":468,"connection_string":"Host=localhost;Port=5432;Database=datalust;Username=postgres","name":"datalust","statement":"\n                        update datalust.job\n                        set status = @Running,\n                            leasedby = @LeasedBy,\n                            leaseduntil = now() + interval '5 minutes',\n                            attemptsremaining = attemptsremaining - 1\n                        where id = (select id from datalust.job\n                                    where status in (@Waiting, @Running, @Failed) and\n                                        dueat < @MinimumDueAt and\n                                        (leasedby is null or leaseduntil < now()) and\n                                        attemptsremaining > 0\n                                    for update skip locked\n                                    limit 1)\n                        returning id;","system":"postgresql","user":"postgres"},"net":{"peer":{"ip":"::1","name":"localhost"},"transport":"ip_tcp"},"peer":{"service":"localhost"}}
{"@t":"2023-10-20T03:30:31.4013050Z","@mt":"Lease next job","@i":"babf7e54","@tr":"fa0454b63ff74fe4eda329280346dee4","@sp":"c1b6b06aedf91db9","@st":"2023-10-20T03:30:31.3918720Z","@ps":"2eaf7cef0b240b35","@ra":{"service":{"instance":{"id":"41f1d0cb-a873-4d56-9c1e-74227e6bff3f"},"name":"Datalust.Web.Seq","version":"99.99.99"},"telemetry":{"sdk":{"language":"dotnet","name":"opentelemetry","version":"1.6.0"}}}}
{"@t":"2023-10-20T03:30:31.4013440Z","@mt":"Queue is exhausted","@i":"9094e2ac","@tr":"fa0454b63ff74fe4eda329280346dee4","@sp":"2eaf7cef0b240b35","@ra":{"service":{"name":"Datalust.Web.Seq"},"telemetry":{"sdk":{"language":"dotnet","name":"serilog","version":"1.2.0-dev-00247"}}},"ActionId":"ed5db20c-e6b4-4c06-837d-59924452c54e","ActionName":"Datalust.Web.Seq.Api.Schedule.ScheduleApiController.Check (Datalust.Web.Seq)","Application":"Datalust.Web.Seq","ConnectionId":"0HMUG80VGECD0","ImageVersion":"99.99.99","JobRunnerInstance":"6e79ebdb30cd40ea86deed34942e3f29","RequestId":"0HMUG80VGECD0:00000001","RequestPath":"/api/schedule/check","SourceContext":"Datalust.Web.Seq.Infrastructure.Scheduling.JobRunner"}
{"@t":"2023-10-20T03:30:31.4014890Z","@mt":"Check job schedule","@i":"49dc34bb","@tr":"fa0454b63ff74fe4eda329280346dee4","@sp":"2eaf7cef0b240b35","@st":"2023-10-20T03:30:31.3918380Z","@ps":"4fdbd81395840c28","@ra":{"service":{"instance":{"id":"41f1d0cb-a873-4d56-9c1e-74227e6bff3f"},"name":"Datalust.Web.Seq","version":"99.99.99"},"telemetry":{"sdk":{"language":"dotnet","name":"opentelemetry","version":"1.6.0"}}}}
{"@t":"2023-10-20T03:30:31.4016630Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@i":"37aa1435","@r":["10.5112"],"@ra":{"service":{"name":"Datalust.Web.Seq"},"telemetry":{"sdk":{"language":"dotnet","name":"serilog","version":"1.2.0-dev-00247"}}},"Application":"Datalust.Web.Seq","ConnectionId":"0HMUG80VGECD0","Elapsed":10.511209,"ImageVersion":"99.99.99","RequestId":"0HMUG80VGECD0:00000001","RequestMethod":"POST","RequestPath":"/api/schedule/check","SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","StatusCode":200}
{"@t":"2023-10-20T03:30:31.4019060Z","@mt":"api/schedule/check","@i":"6bc7132d","@tr":"fa0454b63ff74fe4eda329280346dee4","@sp":"4fdbd81395840c28","@st":"2023-10-20T03:30:31.3909430Z","@ra":{"service":{"instance":{"id":"41f1d0cb-a873-4d56-9c1e-74227e6bff3f"},"name":"Datalust.Web.Seq","version":"99.99.99"},"telemetry":{"sdk":{"language":"dotnet","name":"opentelemetry","version":"1.6.0"}}},"http":{"flavor":"1.1","method":"POST","route":"api/schedule/check","scheme":"http","status_code":200,"target":"/api/schedule/check","url":"http://localhost:8080/api/schedule/check"},"net":{"host":{"name":"localhost","port":8080}}}
{"@t":"2023-10-20T03:30:34.8099900Z","@mt":"Health check {Method} {TargetUrl} {Outcome} with status code {StatusCode} in {Elapsed:0.000} ms","@i":"decf5ef6","@r":["728.361"],"ContentLength":3057,"ContentType":"text/html; charset=UTF-8","Elapsed":728.3607,"HealthCheckTitle":"Check health","InitialContent":"<!DOCTYPE html>\n","Method":"GET","Outcome":"succeeded","ProbeId":"ql2tRjapBRvH","StatusCode":200,"TargetUrl":"https://www.withouttheloop.com"}
{"@t":"2023-10-20T05:44:37.5263060Z","@mt":"POSTing to schedule check endpoint","@i":"0cc01c1f","Application":"Test Storefront"}
{"@t":"2023-10-20T05:44:37.5310350Z","@mt":"Checking and running jobs from queue until {DoNotStartAfter}","@i":"7ae953f9","@tr":"e7569b3cc5331dc409e0d985f89cd142","@sp":"4ead166fe56d72c8","@ra":{"service":{"name":"Datalust.Web.Seq"},"telemetry":{"sdk":{"language":"dotnet","name":"serilog","version":"1.2.0-dev-00247"}}},"ActionId":"ed5db20c-e6b4-4c06-837d-59924452c54e","ActionName":"Datalust.Web.Seq.Api.Schedule.ScheduleApiController.Check (Datalust.Web.Seq)","Application":"Datalust.Web.Seq","ConnectionId":"0HMUG80VGECD1","DoNotStartAfter":"2023-10-20T05:44:57.5310270+00:00","ImageVersion":"99.99.99","JobRunnerInstance":"ed2e2e3972dd4574b4ab99779f4dc705","RequestId":"0HMUG80VGECD1:00000001","RequestPath":"/api/schedule/check","SourceContext":"Datalust.Web.Seq.Infrastructure.Scheduling.JobRunner"}
{"@t":"2023-10-20T05:44:37.5374960Z","@mt":"datalust","@i":"80d4e8b6","@tr":"e7569b3cc5331dc409e0d985f89cd142","@sp":"d56ad62c947ff224","@st":"2023-10-20T05:44:37.5314810Z","@ps":"1003668392c39997","@ra":{"service":{"instance":{"id":"41f1d0cb-a873-4d56-9c1e-74227e6bff3f"},"name":"Datalust.Web.Seq","version":"99.99.99"},"telemetry":{"sdk":{"language":"dotnet","name":"opentelemetry","version":"1.6.0"}}},"db":{"connection_id":468,"connection_string":"Host=localhost;Port=5432;Database=datalust;Username=postgres","name":"datalust","statement":"\n                        update datalust.job\n                        set status = @Running,\n                            leasedby = @LeasedBy,\n                            leaseduntil = now() + interval '5 minutes',\n                            attemptsremaining = attemptsremaining - 1\n                        where id = (select id from datalust.job\n                                    where status in (@Waiting, @Running, @Failed) and\n                                        dueat < @MinimumDueAt and\n                                        (leasedby is null or leaseduntil < now()) and\n                                        attemptsremaining > 0\n                                    for update skip locked\n                                    limit 1)\n                        returning id;","system":"postgresql","user":"postgres"},"net":{"peer":{"ip":"::1","name":"localhost"},"transport":"ip_tcp"},"peer":{"service":"localhost"}}
{"@t":"2023-10-20T05:44:37.5399400Z","@mt":"Lease next job","@i":"babf7e54","@tr":"e7569b3cc5331dc409e0d985f89cd142","@sp":"1003668392c39997","@st":"2023-10-20T05:44:37.5313510Z","@ps":"b9d985d80156d776","@ra":{"service":{"instance":{"id":"41f1d0cb-a873-4d56-9c1e-74227e6bff3f"},"name":"Datalust.Web.Seq","version":"99.99.99"},"telemetry":{"sdk":{"language":"dotnet","name":"opentelemetry","version":"1.6.0"}}}}
{"@t":"2023-10-20T05:44:37.5399690Z","@mt":"Queue is exhausted","@i":"9094e2ac","@tr":"e7569b3cc5331dc409e0d985f89cd142","@sp":"b9d985d80156d776","@ra":{"service":{"name":"Datalust.Web.Seq"},"telemetry":{"sdk":{"language":"dotnet","name":"serilog","version":"1.2.0-dev-00247"}}},"ActionId":"ed5db20c-e6b4-4c06-837d-59924452c54e","ActionName":"Datalust.Web.Seq.Api.Schedule.ScheduleApiController.Check (Datalust.Web.Seq)","Application":"Datalust.Web.Seq","ConnectionId":"0HMUG80VGECD1","ImageVersion":"99.99.99","JobRunnerInstance":"ed2e2e3972dd4574b4ab99779f4dc705","RequestId":"0HMUG80VGECD1:00000001","RequestPath":"/api/schedule/check","SourceContext":"Datalust.Web.Seq.Infrastructure.Scheduling.JobRunner"}
{"@t":"2023-10-20T05:44:37.5400980Z","@mt":"Check job schedule","@i":"49dc34bb","@tr":"e7569b3cc5331dc409e0d985f89cd142","@sp":"b9d985d80156d776","@st":"2023-10-20T05:44:37.5313020Z","@ps":"4ead166fe56d72c8","@ra":{"service":{"instance":{"id":"41f1d0cb-a873-4d56-9c1e-74227e6bff3f"},"name":"Datalust.Web.Seq","version":"99.99.99"},"telemetry":{"sdk":{"language":"dotnet","name":"opentelemetry","version":"1.6.0"}}}}
{"@t":"2023-10-20T05:44:37.5402600Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@i":"37aa1435","@r":["9.8742"],"@ra":{"service":{"name":"Datalust.Web.Seq"},"telemetry":{"sdk":{"language":"dotnet","name":"serilog","version":"1.2.0-dev-00247"}}},"Application":"Datalust.Web.Seq","ConnectionId":"0HMUG80VGECD1","Elapsed":9.874166,"ImageVersion":"99.99.99","RequestId":"0HMUG80VGECD1:00000001","RequestMethod":"POST","RequestPath":"/api/schedule/check","SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","StatusCode":200}
{"@t":"2023-10-20T05:44:37.5405700Z","@mt":"api/schedule/check","@i":"6bc7132d","@tr":"e7569b3cc5331dc409e0d985f89cd142","@sp":"4ead166fe56d72c8","@st":"2023-10-20T05:44:37.5300780Z","@ra":{"service":{"instance":{"id":"41f1d0cb-a873-4d56-9c1e-74227e6bff3f"},"name":"Datalust.Web.Seq","version":"99.99.99"},"telemetry":{"sdk":{"language":"dotnet","name":"opentelemetry","version":"1.6.0"}}},"http":{"flavor":"1.1","method":"POST","route":"api/schedule/check","scheme":"http","status_code":200,"target":"/api/schedule/check","url":"http://localhost:8080/api/schedule/check"},"net":{"host":{"name":"localhost","port":8080}}}
{"@t":"2023-10-20T06:00:48.8857270Z","@mt":"Health check {Method} {TargetUrl} {Outcome} with status code {StatusCode} in {Elapsed:0.000} ms","@i":"decf5ef6","@r":["206.943"],"ContentLength":3057,"ContentType":"text/html; charset=UTF-8","Elapsed":206.9428,"HealthCheckTitle":"Check health","InitialContent":"<!DOCTYPE html>\n","Method":"GET","Outcome":"succeeded","ProbeId":"eTgCGbMTWGJS","StatusCode":200,"TargetUrl":"https://www.withouttheloop.com"}
{"@t":"2023-10-20T06:18:14.3889900Z","@mt":"Connect to PostgreSQL","@i":"31d2dbb6","@tr":"7b10eb28b131efb137f1f84765f2cd28","@sp":"901aa7342fbd6cae","@st":"2023-10-20T06:18:14.3889040Z","@ps":"3cac7e5e1e63dcd4","@ra":{"service":{"instance":{"id":"41f1d0cb-a873-4d56-9c1e-74227e6bff3f"},"name":"Datalust.Web.Seq","version":"99.99.99"},"telemetry":{"sdk":{"language":"dotnet","name":"opentelemetry","version":"1.6.0"}}}}
{"@t":"2023-10-20T06:18:14.3960860Z","@mt":"datalust","@i":"80d4e8b6","@tr":"7b10eb28b131efb137f1f84765f2cd28","@sp":"1afcb4f2402535ca","@st":"2023-10-20T06:18:14.3890440Z","@ps":"3cac7e5e1e63dcd4","@ra":{"service":{"instance":{"id":"41f1d0cb-a873-4d56-9c1e-74227e6bff3f"},"name":"Datalust.Web.Seq","version":"99.99.99"},"telemetry":{"sdk":{"language":"dotnet","name":"opentelemetry","version":"1.6.0"}}},"db":{"connection_id":468,"connection_string":"Host=localhost;Port=5432;Database=datalust;Username=postgres","name":"datalust","statement":"select * from datalust.release","system":"postgresql","user":"postgres"},"net":{"peer":{"ip":"::1","name":"localhost"},"transport":"ip_tcp"},"peer":{"service":"localhost"}}
{"@t":"2023-10-20T06:18:14.3980810Z","@mt":"Workflow step","@i":"1a01ce8c","@tr":"7b10eb28b131efb137f1f84765f2cd28","@sp":"3cac7e5e1e63dcd4","@st":"2023-10-20T06:18:14.3888450Z","@ra":{"service":{"instance":{"id":"41f1d0cb-a873-4d56-9c1e-74227e6bff3f"},"name":"Datalust.Web.Seq","version":"99.99.99"},"telemetry":{"sdk":{"language":"dotnet","name":"opentelemetry","version":"1.6.0"}}},"StepId":"4bf97d83af5348f694ec080ce511e6aa","WorkflowStepState":"ReadOnly"}
{"@t":"2023-10-20T08:20:44.8944580Z","@mt":"POSTing to schedule check endpoint","@i":"0cc01c1f","Application":"Test Storefront"}
{"@t":"2023-10-20T08:20:44.8995130Z","@mt":"Checking and running jobs from queue until {DoNotStartAfter}","@i":"7ae953f9","@tr":"3cdab725f7b69f8a616bcbc1c9c972b9","@sp":"1109ec0a1625782b","@ra":{"service":{"name":"Datalust.Web.Seq"},"telemetry":{"sdk":{"language":"dotnet","name":"serilog","version":"1.2.0-dev-00247"}}},"ActionId":"ed5db20c-e6b4-4c06-837d-59924452c54e","ActionName":"Datalust.Web.Seq.Api.Schedule.ScheduleApiController.Check (Datalust.Web.Seq)","Application":"Datalust.Web.Seq","ConnectionId":"0HMUG80VGECD2","DoNotStartAfter":"2023-10-20T08:21:04.8995040+00:00","ImageVersion":"99.99.99","JobRunnerInstance":"dd0f01ad698c4d53a3fb1479d993106c","RequestId":"0HMUG80VGECD2:00000001","RequestPath":"/api/schedule/check","SourceContext":"Datalust.Web.Seq.Infrastructure.Scheduling.JobRunner"}
{"@t":"2023-10-20T08:20:44.9045280Z","@mt":"datalust","@i":"80d4e8b6","@tr":"3cdab725f7b69f8a616bcbc1c9c972b9","@sp":"79339f704d19fa57","@st":"2023-10-20T08:20:44.9000280Z","@ps":"7642b4de665766eb","@ra":{"service":{"instance":{"id":"41f1d0cb-a873-4d56-9c1e-74227e6bff3f"},"name":"Datalust.Web.Seq","version":"99.99.99"},"telemetry":{"sdk":{"language":"dotnet","name":"opentelemetry","version":"1.6.0"}}},"db":{"connection_id":468,"connection_string":"Host=localhost;Port=5432;Database=datalust;Username=postgres","name":"datalust","statement":"\n                        update datalust.job\n                        set status = @Running,\n                            leasedby = @LeasedBy,\n                            leaseduntil = now() + interval '5 minutes',\n                            attemptsremaining = attemptsremaining - 1\n                        where id = (select id from datalust.job\n                                    where status in (@Waiting, @Running, @Failed) and\n                                        dueat < @MinimumDueAt and\n                                        (leasedby is null or leaseduntil < now()) and\n                                        attemptsremaining > 0\n                                    for update skip locked\n                                    limit 1)\n                        returning id;","system":"postgresql","user":"postgres"},"net":{"peer":{"ip":"::1","name":"localhost"},"transport":"ip_tcp"},"peer":{"service":"localhost"}}
{"@t":"2023-10-20T08:20:44.9065950Z","@mt":"Lease next job","@i":"babf7e54","@tr":"3cdab725f7b69f8a616bcbc1c9c972b9","@sp":"7642b4de665766eb","@st":"2023-10-20T08:20:44.8998960Z","@ps":"32051acc55094907","@ra":{"service":{"instance":{"id":"41f1d0cb-a873-4d56-9c1e-74227e6bff3f"},"name":"Datalust.Web.Seq","version":"99.99.99"},"telemetry":{"sdk":{"language":"dotnet","name":"opentelemetry","version":"1.6.0"}}}}
{"@t":"2023-10-20T08:20:44.9066260Z","@mt":"Queue is exhausted","@i":"9094e2ac","@tr":"3cdab725f7b69f8a616bcbc1c9c972b9","@sp":"32051acc55094907","@ra":{"service":{"name":"Datalust.Web.Seq"},"telemetry":{"sdk":{"language":"dotnet","name":"serilog","version":"1.2.0-dev-00247"}}},"ActionId":"ed5db20c-e6b4-4c06-837d-59924452c54e","ActionName":"Datalust.Web.Seq.Api.Schedule.ScheduleApiController.Check (Datalust.Web.Seq)","Application":"Datalust.Web.Seq","ConnectionId":"0HMUG80VGECD2","ImageVersion":"99.99.99","JobRunnerInstance":"dd0f01ad698c4d53a3fb1479d993106c","RequestId":"0HMUG80VGECD2:00000001","RequestPath":"/api/schedule/check","SourceContext":"Datalust.Web.Seq.Infrastructure.Scheduling.JobRunner"}
{"@t":"2023-10-20T08:20:44.9067520Z","@mt":"Check job schedule","@i":"49dc34bb","@tr":"3cdab725f7b69f8a616bcbc1c9c972b9","@sp":"32051acc55094907","@st":"2023-10-20T08:20:44.8998410Z","@ps":"1109ec0a1625782b","@ra":{"service":{"instance":{"id":"41f1d0cb-a873-4d56-9c1e-74227e6bff3f"},"name":"Datalust.Web.Seq","version":"99.99.99"},"telemetry":{"sdk":{"language":"dotnet","name":"opentelemetry","version":"1.6.0"}}}}
{"@t":"2023-10-20T08:20:44.9069040Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@i":"37aa1435","@r":["8.1780"],"@ra":{"service":{"name":"Datalust.Web.Seq"},"telemetry":{"sdk":{"language":"dotnet","name":"serilog","version":"1.2.0-dev-00247"}}},"Application":"Datalust.Web.Seq","ConnectionId":"0HMUG80VGECD2","Elapsed":8.177958,"ImageVersion":"99.99.99","RequestId":"0HMUG80VGECD2:00000001","RequestMethod":"POST","RequestPath":"/api/schedule/check","SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","StatusCode":200}
{"@t":"2023-10-20T08:20:44.9072350Z","@mt":"api/schedule/check","@i":"6bc7132d","@tr":"3cdab725f7b69f8a616bcbc1c9c972b9","@sp":"1109ec0a1625782b","@st":"2023-10-20T08:20:44.8984170Z","@ra":{"service":{"instance":{"id":"41f1d0cb-a873-4d56-9c1e-74227e6bff3f"},"name":"Datalust.Web.Seq","version":"99.99.99"},"telemetry":{"sdk":{"language":"dotnet","name":"opentelemetry","version":"1.6.0"}}},"http":{"flavor":"1.1","method":"POST","route":"api/schedule/check","scheme":"http","status_code":200,"target":"/api/schedule/check","url":"http://localhost:8080/api/schedule/check"},"net":{"host":{"name":"localhost","port":8080}}}
{"@t":"2023-10-20T08:35:54.3352490Z","@mt":"Health check {Method} {TargetUrl} {Outcome} with status code {StatusCode} in {Elapsed:0.000} ms","@i":"decf5ef6","@r":["1404.236"],"ContentLength":3057,"ContentType":"text/html; charset=UTF-8","Elapsed":1404.2364,"HealthCheckTitle":"Check health","InitialContent":"<!DOCTYPE html>\n","Method":"GET","Outcome":"succeeded","ProbeId":"bmljPElEL54d","StatusCode":200,"TargetUrl":"https://www.withouttheloop.com"}
{"@t":"2023-10-20T08:35:57.3974810Z","@mt":"datalust","@i":"80d4e8b6","@tr":"de898d6424c9cae64eb20ffaf4e06c13","@sp":"22ddf5611d2e61a9","@st":"2023-10-20T08:35:57.3912660Z","@ra":{"service":{"instance":{"id":"41f1d0cb-a873-4d56-9c1e-74227e6bff3f"},"name":"Datalust.Web.Seq","version":"99.99.99"},"telemetry":{"sdk":{"language":"dotnet","name":"opentelemetry","version":"1.6.0"}}},"db":{"connection_id":468,"connection_string":"Host=localhost;Port=5432;Database=datalust;Username=postgres","name":"datalust","statement":"select * from datalust.subscriptiontier where generation = any(@AllowedGenerations)","system":"postgresql","user":"postgres"},"net":{"peer":{"ip":"::1","name":"localhost"},"transport":"ip_tcp"},"peer":{"service":"localhost"}}
{"@t":"2023-10-20T09:48:27.6135480Z","@mt":"POSTing to schedule check endpoint","@i":"0cc01c1f","Application":"Test Storefront"}
{"@t":"2023-10-20T09:48:27.6159560Z","@mt":"Checking and running jobs from queue until {DoNotStartAfter}","@i":"7ae953f9","@tr":"e8042412109a05ffbb88d5d6e5d2e8d2","@sp":"72629f396dcdd3b7","@ra":{"service":{"name":"Datalust.Web.Seq"},"telemetry":{"sdk":{"language":"dotnet","name":"serilog","version":"1.2.0-dev-00247"}}},"ActionId":"ed5db20c-e6b4-4c06-837d-59924452c54e","ActionName":"Datalust.Web.Seq.Api.Schedule.ScheduleApiController.Check (Datalust.Web.Seq)","Application":"Datalust.Web.Seq","ConnectionId":"0HMUG80VGECD3","DoNotStartAfter":"2023-10-20T09:48:47.6159530+00:00","ImageVersion":"99.99.99","JobRunnerInstance":"13db8b61e3d645078fa05216ecc901ae","RequestId":"0HMUG80VGECD3:00000001","RequestPath":"/api/schedule/check","SourceContext":"Datalust.Web.Seq.Infrastructure.Scheduling.JobRunner"}
{"@t":"2023-10-20T09:48:27.6296250Z","@mt":"datalust","@i":"80d4e8b6","@tr":"e8042412109a05ffbb88d5d6e5d2e8d2","@sp":"5ec2555c14ffe178","@st":"2023-10-20T09:48:27.6275880Z","@ps":"4e8bff27a189f607","@ra":{"service":{"instance":{"id":"41f1d0cb-a873-4d56-9c1e-74227e6bff3f"},"name":"Datalust.Web.Seq","version":"99.99.99"},"telemetry":{"sdk":{"language":"dotnet","name":"opentelemetry","version":"1.6.0"}}},"db":{"connection_id":474,"connection_string":"Host=localhost;Port=5432;Database=datalust;Username=postgres","name":"datalust","statement":"\n                        update datalust.job\n                        set status = @Running,\n                            leasedby = @LeasedBy,\n                            leaseduntil = now() + interval '5 minutes',\n                            attemptsremaining = attemptsremaining - 1\n                        where id = (select id from datalust.job\n                                    where status in (@Waiting, @Running, @Failed) and\n                                        dueat < @MinimumDueAt and\n                                        (leasedby is null or leaseduntil < now()) and\n                                        attemptsremaining > 0\n                                    for update skip locked\n                                    limit 1)\n                        returning id;","system":"postgresql","user":"postgres"},"net":{"peer":{"ip":"::1","name":"localhost"},"transport":"ip_tcp"},"peer":{"service":"localhost"}}
{"@t":"2023-10-20T09:48:27.6304730Z","@mt":"Lease next job","@i":"babf7e54","@tr":"e8042412109a05ffbb88d5d6e5d2e8d2","@sp":"4e8bff27a189f607","@st":"2023-10-20T09:48:27.6274810Z","@ps":"957fb489236b0af4","@ra":{"service":{"instance":{"id":"41f1d0cb-a873-4d56-9c1e-74227e6bff3f"},"name":"Datalust.Web.Seq","version":"99.99.99"},"telemetry":{"sdk":{"language":"dotnet","name":"opentelemetry","version":"1.6.0"}}}}
{"@t":"2023-10-20T09:48:27.6304900Z","@mt":"Queue is exhausted","@i":"9094e2ac","@tr":"e8042412109a05ffbb88d5d6e5d2e8d2","@sp":"957fb489236b0af4","@ra":{"service":{"name":"Datalust.Web.Seq"},"telemetry":{"sdk":{"language":"dotnet","name":"serilog","version":"1.2.0-dev-00247"}}},"ActionId":"ed5db20c-e6b4-4c06-837d-59924452c54e","ActionName":"Datalust.Web.Seq.Api.Schedule.ScheduleApiController.Check (Datalust.Web.Seq)","Application":"Datalust.Web.Seq","ConnectionId":"0HMUG80VGECD3","ImageVersion":"99.99.99","JobRunnerInstance":"13db8b61e3d645078fa05216ecc901ae","RequestId":"0HMUG80VGECD3:00000001","RequestPath":"/api/schedule/check","SourceContext":"Datalust.Web.Seq.Infrastructure.Scheduling.JobRunner"}
{"@t":"2023-10-20T09:48:27.6306080Z","@mt":"Check job schedule","@i":"49dc34bb","@tr":"e8042412109a05ffbb88d5d6e5d2e8d2","@sp":"957fb489236b0af4","@st":"2023-10-20T09:48:27.6161170Z","@ps":"72629f396dcdd3b7","@ra":{"service":{"instance":{"id":"41f1d0cb-a873-4d56-9c1e-74227e6bff3f"},"name":"Datalust.Web.Seq","version":"99.99.99"},"telemetry":{"sdk":{"language":"dotnet","name":"opentelemetry","version":"1.6.0"}}}}
{"@t":"2023-10-20T09:48:27.6307220Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@i":"37aa1435","@r":["15.0910"],"@ra":{"service":{"name":"Datalust.Web.Seq"},"telemetry":{"sdk":{"language":"dotnet","name":"serilog","version":"1.2.0-dev-00247"}}},"Application":"Datalust.Web.Seq","ConnectionId":"0HMUG80VGECD3","Elapsed":15.091042,"ImageVersion":"99.99.99","RequestId":"0HMUG80VGECD3:00000001","RequestMethod":"POST","RequestPath":"/api/schedule/check","SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","StatusCode":200}
{"@t":"2023-10-20T09:48:27.6308640Z","@mt":"api/schedule/check","@i":"6bc7132d","@tr":"e8042412109a05ffbb88d5d6e5d2e8d2","@sp":"72629f396dcdd3b7","@st":"2023-10-20T09:48:27.6155080Z","@ra":{"service":{"instance":{"id":"41f1d0cb-a873-4d56-9c1e-74227e6bff3f"},"name":"Datalust.Web.Seq","version":"99.99.99"},"telemetry":{"sdk":{"language":"dotnet","name":"opentelemetry","version":"1.6.0"}}},"http":{"flavor":"1.1","method":"POST","route":"api/schedule/check","scheme":"http","status_code":200,"target":"/api/schedule/check","url":"http://localhost:8080/api/schedule/check"},"net":{"host":{"name":"localhost","port":8080}}}
{"@t":"2023-10-20T09:48:31.0200470Z","@mt":"Health check {Method} {TargetUrl} {Outcome} with status code {StatusCode} in {Elapsed:0.000} ms","@i":"decf5ef6","@r":["619.713"],"ContentLength":3057,"ContentType":"text/html; charset=UTF-8","Elapsed":619.7131,"HealthCheckTitle":"Check health","InitialContent":"<!DOCTYPE html>\n","Method":"GET","Outcome":"succeeded","ProbeId":"kO6AZNIY3EFQ","StatusCode":200,"TargetUrl":"https://www.withouttheloop.com"}
{"@t":"2023-10-20T09:48:35.6965930Z","@mt":"Connect to PostgreSQL","@i":"31d2dbb6","@tr":"6ebb7be760fddb1e254cd73b10d9af5a","@sp":"fbc6fd62df3a1ce2","@st":"2023-10-20T09:48:35.6965420Z","@ps":"6b27d1bd5ee76159","@ra":{"service":{"instance":{"id":"41f1d0cb-a873-4d56-9c1e-74227e6bff3f"},"name":"Datalust.Web.Seq","version":"99.99.99"},"telemetry":{"sdk":{"language":"dotnet","name":"opentelemetry","version":"1.6.0"}}}}
{"@t":"2023-10-20T09:48:35.7159180Z","@mt":"datalust","@i":"80d4e8b6","@tr":"6ebb7be760fddb1e254cd73b10d9af5a","@sp":"d75e63d69d10098b","@st":"2023-10-20T09:48:35.6966260Z","@ps":"6b27d1bd5ee76159","@ra":{"service":{"instance":{"id":"41f1d0cb-a873-4d56-9c1e-74227e6bff3f"},"name":"Datalust.Web.Seq","version":"99.99.99"},"telemetry":{"sdk":{"language":"dotnet","name":"opentelemetry","version":"1.6.0"}}},"db":{"connection_id":474,"connection_string":"Host=localhost;Port=5432;Database=datalust;Username=postgres","name":"datalust","statement":"select * from datalust.release","system":"postgresql","user":"postgres"},"net":{"peer":{"ip":"::1","name":"localhost"},"transport":"ip_tcp"},"peer":{"service":"localhost"}}
{"@t":"2023-10-20T09:48:35.7222730Z","@mt":"Workflow step","@i":"1a01ce8c","@tr":"6ebb7be760fddb1e254cd73b10d9af5a","@sp":"6b27d1bd5ee76159","@st":"2023-10-20T09:48:35.6965200Z","@ra":{"service":{"instance":{"id":"41f1d0cb-a873-4d56-9c1e-74227e6bff3f"},"name":"Datalust.Web.Seq","version":"99.99.99"},"telemetry":{"sdk":{"language":"dotnet","name":"opentelemetry","version":"1.6.0"}}},"StepId":"d0c853941bb04fd7b3be3988b0b6c8c6","WorkflowStepState":"ReadOnly"}
{"@t":"2023-10-20T09:49:27.6293200Z","@mt":"POSTing to schedule check endpoint","@i":"0cc01c1f","Application":"Test Storefront"}
{"@t":"2023-10-20T09:49:27.6338410Z","@mt":"Checking and running jobs from queue until {DoNotStartAfter}","@i":"7ae953f9","@tr":"3c7e735240d7311f81910e50a4960121","@sp":"6d8232c600ed892e","@ra":{"service":{"name":"Datalust.Web.Seq"},"telemetry":{"sdk":{"language":"dotnet","name":"serilog","version":"1.2.0-dev-00247"}}},"ActionId":"ed5db20c-e6b4-4c06-837d-59924452c54e","ActionName":"Datalust.Web.Seq.Api.Schedule.ScheduleApiController.Check (Datalust.Web.Seq)","Application":"Datalust.Web.Seq","ConnectionId":"0HMUG80VGECD4","DoNotStartAfter":"2023-10-20T09:49:47.6338350+00:00","ImageVersion":"99.99.99","JobRunnerInstance":"e5571a37623f43a8995015ab9acc0a38","RequestId":"0HMUG80VGECD4:00000001","RequestPath":"/api/schedule/check","SourceContext":"Datalust.Web.Seq.Infrastructure.Scheduling.JobRunner"}
{"@t":"2023-10-20T09:49:27.6382900Z","@mt":"datalust","@i":"80d4e8b6","@tr":"3c7e735240d7311f81910e50a4960121","@sp":"1f4937e0c121b833","@st":"2023-10-20T09:49:27.6341650Z","@ps":"f3fc22a3deb9ec36","@ra":{"service":{"instance":{"id":"41f1d0cb-a873-4d56-9c1e-74227e6bff3f"},"name":"Datalust.Web.Seq","version":"99.99.99"},"telemetry":{"sdk":{"language":"dotnet","name":"opentelemetry","version":"1.6.0"}}},"db":{"connection_id":474,"connection_string":"Host=localhost;Port=5432;Database=datalust;Username=postgres","name":"datalust","statement":"\n                        update datalust.job\n                        set status = @Running,\n                            leasedby = @LeasedBy,\n                            leaseduntil = now() + interval '5 minutes',\n                            attemptsremaining = attemptsremaining - 1\n                        where id = (select id from datalust.job\n                                    where status in (@Waiting, @Running, @Failed) and\n                                        dueat < @MinimumDueAt and\n                                        (leasedby is null or leaseduntil < now()) and\n                                        attemptsremaining > 0\n                                    for update skip locked\n                                    limit 1)\n                        returning id;","system":"postgresql","user":"postgres"},"net":{"peer":{"ip":"::1","name":"localhost"},"transport":"ip_tcp"},"peer":{"service":"localhost"}}
{"@t":"2023-10-20T09:49:27.6399640Z","@mt":"Lease next job","@i":"babf7e54","@tr":"3c7e735240d7311f81910e50a4960121","@sp":"f3fc22a3deb9ec36","@st":"2023-10-20T09:49:27.6340660Z","@ps":"0ef3818d4c812481","@ra":{"service":{"instance":{"id":"41f1d0cb-a873-4d56-9c1e-74227e6bff3f"},"name":"Datalust.Web.Seq","version":"99.99.99"},"telemetry":{"sdk":{"language":"dotnet","name":"opentelemetry","version":"1.6.0"}}}}
{"@t":"2023-10-20T09:49:27.6399840Z","@mt":"Queue is exhausted","@i":"9094e2ac","@tr":"3c7e735240d7311f81910e50a4960121","@sp":"0ef3818d4c812481","@ra":{"service":{"name":"Datalust.Web.Seq"},"telemetry":{"sdk":{"language":"dotnet","name":"serilog","version":"1.2.0-dev-00247"}}},"ActionId":"ed5db20c-e6b4-4c06-837d-59924452c54e","ActionName":"Datalust.Web.Seq.Api.Schedule.ScheduleApiController.Check (Datalust.Web.Seq)","Application":"Datalust.Web.Seq","ConnectionId":"0HMUG80VGECD4","ImageVersion":"99.99.99","JobRunnerInstance":"e5571a37623f43a8995015ab9acc0a38","RequestId":"0HMUG80VGECD4:00000001","RequestPath":"/api/schedule/check","SourceContext":"Datalust.Web.Seq.Infrastructure.Scheduling.JobRunner"}
{"@t":"2023-10-20T09:49:27.6401000Z","@mt":"Check job schedule","@i":"49dc34bb","@tr":"3c7e735240d7311f81910e50a4960121","@sp":"0ef3818d4c812481","@st":"2023-10-20T09:49:27.6340340Z","@ps":"6d8232c600ed892e","@ra":{"service":{"instance":{"id":"41f1d0cb-a873-4d56-9c1e-74227e6bff3f"},"name":"Datalust.Web.Seq","version":"99.99.99"},"telemetry":{"sdk":{"language":"dotnet","name":"opentelemetry","version":"1.6.0"}}}}
{"@t":"2023-10-20T09:49:27.6402330Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@i":"37aa1435","@r":["6.9688"],"@ra":{"service":{"name":"Datalust.Web.Seq"},"telemetry":{"sdk":{"language":"dotnet","name":"serilog","version":"1.2.0-dev-00247"}}},"Application":"Datalust.Web.Seq","ConnectionId":"0HMUG80VGECD4","Elapsed":6.968834,"ImageVersion":"99.99.99","RequestId":"0HMUG80VGECD4:00000001","RequestMethod":"POST","RequestPath":"/api/schedule/check","SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","StatusCode":200}
{"@t":"2023-10-20T09:49:27.6404140Z","@mt":"api/schedule/check","@i":"6bc7132d","@tr":"3c7e735240d7311f81910e50a4960121","@sp":"6d8232c600ed892e","@st":"2023-10-20T09:49:27.6330000Z","@ra":{"service":{"instance":{"id":"41f1d0cb-a873-4d56-9c1e-74227e6bff3f"},"name":"Datalust.Web.Seq","version":"99.99.99"},"telemetry":{"sdk":{"language":"dotnet","name":"opentelemetry","version":"1.6.0"}}},"http":{"flavor":"1.1","method":"POST","route":"api/schedule/check","scheme":"http","status_code":200,"target":"/api/schedule/check","url":"http://localhost:8080/api/schedule/check"},"net":{"host":{"name":"localhost","port":8080}}}
{"@t":"2023-10-20T09:49:31.0199840Z","@mt":"Health check {Method} {TargetUrl} {Outcome} with status code {StatusCode} in {Elapsed:0.000} ms","@i":"decf5ef6","@r":["163.735"],"ContentLength":3057,"ContentType":"text/html; charset=UTF-8","Elapsed":163.7347,"HealthCheckTitle":"Check health","InitialContent":"<!DOCTYPE html>\n","Method":"GET","Outcome":"succeeded","ProbeId":"sasfprnfOYmq","StatusCode":200,"TargetUrl":"https://www.withouttheloop.com"}
{"@t":"2023-10-20T09:50:27.6401770Z","@mt":"POSTing to schedule check endpoint","@i":"0cc01c1f","Application":"Test Storefront"}
{"@t":"2023-10-20T09:50:27.6452630Z","@mt":"Checking and running jobs from queue until {DoNotStartAfter}","@i":"7ae953f9","@tr":"ecf7924ecf0395d45c61509ecb427e4f","@sp":"3f8d0c65f91cda30","@ra":{"service":{"name":"Datalust.Web.Seq"},"telemetry":{"sdk":{"language":"dotnet","name":"serilog","version":"1.2.0-dev-00247"}}},"ActionId":"ed5db20c-e6b4-4c06-837d-59924452c54e","ActionName":"Datalust.Web.Seq.Api.Schedule.ScheduleApiController.Check (Datalust.Web.Seq)","Application":"Datalust.Web.Seq","ConnectionId":"0HMUG80VGECD5","DoNotStartAfter":"2023-10-20T09:50:47.6452550+00:00","ImageVersion":"99.99.99","JobRunnerInstance":"f74b2ad28b2c45f6ad01aa137ae988ab","RequestId":"0HMUG80VGECD5:00000001","RequestPath":"/api/schedule/check","SourceContext":"Datalust.Web.Seq.Infrastructure.Scheduling.JobRunner"}
{"@t":"2023-10-20T09:50:27.6522190Z","@mt":"datalust","@i":"80d4e8b6","@tr":"ecf7924ecf0395d45c61509ecb427e4f","@sp":"9377d0890a3b251d","@st":"2023-10-20T09:50:27.6457460Z","@ps":"df8f45a90a9ecf5f","@ra":{"service":{"instance":{"id":"41f1d0cb-a873-4d56-9c1e-74227e6bff3f"},"name":"Datalust.Web.Seq","version":"99.99.99"},"telemetry":{"sdk":{"language":"dotnet","name":"opentelemetry","version":"1.6.0"}}},"db":{"connection_id":474,"connection_string":"Host=localhost;Port=5432;Database=datalust;Username=postgres","name":"datalust","statement":"\n                        update datalust.job\n                        set status = @Running,\n                            leasedby = @LeasedBy,\n                            leaseduntil = now() + interval '5 minutes',\n                            attemptsremaining = attemptsremaining - 1\n                        where id = (select id from datalust.job\n                                    where status in (@Waiting, @Running, @Failed) and\n                                        dueat < @MinimumDueAt and\n                                        (leasedby is null or leaseduntil < now()) and\n                                        attemptsremaining > 0\n                                    for update skip locked\n                                    limit 1)\n                        returning id;","system":"postgresql","user":"postgres"},"net":{"peer":{"ip":"::1","name":"localhost"},"transport":"ip_tcp"},"peer":{"service":"localhost"}}
{"@t":"2023-10-20T09:50:27.6548020Z","@mt":"Lease next job","@i":"babf7e54","@tr":"ecf7924ecf0395d45c61509ecb427e4f","@sp":"df8f45a90a9ecf5f","@st":"2023-10-20T09:50:27.6456300Z","@ps":"81efc279fd7674ee","@ra":{"service":{"instance":{"id":"41f1d0cb-a873-4d56-9c1e-74227e6bff3f"},"name":"Datalust.Web.Seq","version":"99.99.99"},"telemetry":{"sdk":{"language":"dotnet","name":"opentelemetry","version":"1.6.0"}}}}
{"@t":"2023-10-20T09:50:27.6548480Z","@mt":"Queue is exhausted","@i":"9094e2ac","@tr":"ecf7924ecf0395d45c61509ecb427e4f","@sp":"81efc279fd7674ee","@ra":{"service":{"name":"Datalust.Web.Seq"},"telemetry":{"sdk":{"language":"dotnet","name":"serilog","version":"1.2.0-dev-00247"}}},"ActionId":"ed5db20c-e6b4-4c06-837d-59924452c54e","ActionName":"Datalust.Web.Seq.Api.Schedule.ScheduleApiController.Check (Datalust.Web.Seq)","Application":"Datalust.Web.Seq","ConnectionId":"0HMUG80VGECD5","ImageVersion":"99.99.99","JobRunnerInstance":"f74b2ad28b2c45f6ad01aa137ae988ab","RequestId":"0HMUG80VGECD5:00000001","RequestPath":"/api/schedule/check","SourceContext":"Datalust.Web.Seq.Infrastructure.Scheduling.JobRunner"}
{"@t":"2023-10-20T09:50:27.6550750Z","@mt":"Check job schedule","@i":"49dc34bb","@tr":"ecf7924ecf0395d45c61509ecb427e4f","@sp":"81efc279fd7674ee","@st":"2023-10-20T09:50:27.6455540Z","@ps":"3f8d0c65f91cda30","@ra":{"service":{"instance":{"id":"41f1d0cb-a873-4d56-9c1e-74227e6bff3f"},"name":"Datalust.Web.Seq","version":"99.99.99"},"telemetry":{"sdk":{"language":"dotnet","name":"opentelemetry","version":"1.6.0"}}}}
{"@t":"2023-10-20T09:50:27.6553080Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@i":"37aa1435","@r":["10.8131"],"@ra":{"service":{"name":"Datalust.Web.Seq"},"telemetry":{"sdk":{"language":"dotnet","name":"serilog","version":"1.2.0-dev-00247"}}},"Application":"Datalust.Web.Seq","ConnectionId":"0HMUG80VGECD5","Elapsed":10.813125,"ImageVersion":"99.99.99","RequestId":"0HMUG80VGECD5:00000001","RequestMethod":"POST","RequestPath":"/api/schedule/check","SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","StatusCode":200}
{"@t":"2023-10-20T09:50:27.6556040Z","@mt":"api/schedule/check","@i":"6bc7132d","@tr":"ecf7924ecf0395d45c61509ecb427e4f","@sp":"3f8d0c65f91cda30","@st":"2023-10-20T09:50:27.6442080Z","@ra":{"service":{"instance":{"id":"41f1d0cb-a873-4d56-9c1e-74227e6bff3f"},"name":"Datalust.Web.Seq","version":"99.99.99"},"telemetry":{"sdk":{"language":"dotnet","name":"opentelemetry","version":"1.6.0"}}},"http":{"flavor":"1.1","method":"POST","route":"api/schedule/check","scheme":"http","status_code":200,"target":"/api/schedule/check","url":"http://localhost:8080/api/schedule/check"},"net":{"host":{"name":"localhost","port":8080}}}
{"@t":"2023-10-20T09:50:31.0213680Z","@mt":"Health check {Method} {TargetUrl} {Outcome} with status code {StatusCode} in {Elapsed:0.000} ms","@i":"decf5ef6","@r":["157.426"],"ContentLength":3057,"ContentType":"text/html; charset=UTF-8","Elapsed":157.4259,"HealthCheckTitle":"Check health","InitialContent":"<!DOCTYPE html>\n","Method":"GET","Outcome":"succeeded","ProbeId":"CvGKbLZTA2YZ","StatusCode":200,"TargetUrl":"https://www.withouttheloop.com"}
{"@t":"2023-10-20T09:50:35.7204600Z","@mt":"Connect to PostgreSQL","@i":"31d2dbb6","@tr":"23dfbe15f4e3c6346a066f4a79a4bff6","@sp":"becc1af85a43fd1a","@st":"2023-10-20T09:50:35.7203850Z","@ps":"146e7463ddcfa402","@ra":{"service":{"instance":{"id":"41f1d0cb-a873-4d56-9c1e-74227e6bff3f"},"name":"Datalust.Web.Seq","version":"99.99.99"},"telemetry":{"sdk":{"language":"dotnet","name":"opentelemetry","version":"1.6.0"}}}}
{"@t":"2023-10-20T09:50:35.7289630Z","@mt":"datalust","@i":"80d4e8b6","@tr":"23dfbe15f4e3c6346a066f4a79a4bff6","@sp":"be2df8fe8067d0c1","@st":"2023-10-20T09:50:35.7205020Z","@ps":"146e7463ddcfa402","@ra":{"service":{"instance":{"id":"41f1d0cb-a873-4d56-9c1e-74227e6bff3f"},"name":"Datalust.Web.Seq","version":"99.99.99"},"telemetry":{"sdk":{"language":"dotnet","name":"opentelemetry","version":"1.6.0"}}},"db":{"connection_id":474,"connection_string":"Host=localhost;Port=5432;Database=datalust;Username=postgres","name":"datalust","statement":"select * from datalust.release","system":"postgresql","user":"postgres"},"net":{"peer":{"ip":"::1","name":"localhost"},"transport":"ip_tcp"},"peer":{"service":"localhost"}}
{"@t":"2023-10-20T09:50:35.7310910Z","@mt":"Workflow step","@i":"1a01ce8c","@tr":"23dfbe15f4e3c6346a066f4a79a4bff6","@sp":"146e7463ddcfa402","@st":"2023-10-20T09:50:35.7203600Z","@ra":{"service":{"instance":{"id":"41f1d0cb-a873-4d56-9c1e-74227e6bff3f"},"name":"Datalust.Web.Seq","version":"99.99.99"},"telemetry":{"sdk":{"language":"dotnet","name":"opentelemetry","version":"1.6.0"}}},"StepId":"a3898d2b4faa4a80a59e3d3674c7a830","WorkflowStepState":"ReadOnly"}
{"@t":"2023-10-20T09:51:27.6554580Z","@mt":"POSTing to schedule check endpoint","@i":"0cc01c1f","Application":"Test Storefront"}
{"@t":"2023-10-20T09:51:27.6604590Z","@mt":"Checking and running jobs from queue until {DoNotStartAfter}","@i":"7ae953f9","@tr":"3e9536d16c3237628725d9738c345fe1","@sp":"650ce5d03899a71d","@ra":{"service":{"name":"Datalust.Web.Seq"},"telemetry":{"sdk":{"language":"dotnet","name":"serilog","version":"1.2.0-dev-00247"}}},"ActionId":"ed5db20c-e6b4-4c06-837d-59924452c54e","ActionName":"Datalust.Web.Seq.Api.Schedule.ScheduleApiController.Check (Datalust.Web.Seq)","Application":"Datalust.Web.Seq","ConnectionId":"0HMUG80VGECD6","DoNotStartAfter":"2023-10-20T09:51:47.6604510+00:00","ImageVersion":"99.99.99","JobRunnerInstance":"5441c1c9840a4fdd993a85f6217fb5f8","RequestId":"0HMUG80VGECD6:00000001","RequestPath":"/api/schedule/check","SourceContext":"Datalust.Web.Seq.Infrastructure.Scheduling.JobRunner"}
{"@t":"2023-10-20T09:51:27.6660720Z","@mt":"datalust","@i":"80d4e8b6","@tr":"3e9536d16c3237628725d9738c345fe1","@sp":"8e9ae3646615821f","@st":"2023-10-20T09:51:27.6609860Z","@ps":"7d51e55e1da42941","@ra":{"service":{"instance":{"id":"41f1d0cb-a873-4d56-9c1e-74227e6bff3f"},"name":"Datalust.Web.Seq","version":"99.99.99"},"telemetry":{"sdk":{"language":"dotnet","name":"opentelemetry","version":"1.6.0"}}},"db":{"connection_id":474,"connection_string":"Host=localhost;Port=5432;Database=datalust;Username=postgres","name":"datalust","statement":"\n                        update datalust.job\n                        set status = @Running,\n                            leasedby = @LeasedBy,\n                            leaseduntil = now() + interval '5 minutes',\n                            attemptsremaining = attemptsremaining - 1\n                        where id = (select id from datalust.job\n                                    where status in (@Waiting, @Running, @Failed) and\n                                        dueat < @MinimumDueAt and\n                                        (leasedby is null or leaseduntil < now()) and\n                                        attemptsremaining > 0\n                                    for update skip locked\n                                    limit 1)\n                        returning id;","system":"postgresql","user":"postgres"},"net":{"peer":{"ip":"::1","name":"localhost"},"transport":"ip_tcp"},"peer":{"service":"localhost"}}
{"@t":"2023-10-20T09:51:27.6681810Z","@mt":"Lease next job","@i":"babf7e54","@tr":"3e9536d16c3237628725d9738c345fe1","@sp":"7d51e55e1da42941","@st":"2023-10-20T09:51:27.6608420Z","@ps":"95c2882c2e069c23","@ra":{"service":{"instance":{"id":"41f1d0cb-a873-4d56-9c1e-74227e6bff3f"},"name":"Datalust.Web.Seq","version":"99.99.99"},"telemetry":{"sdk":{"language":"dotnet","name":"opentelemetry","version":"1.6.0"}}}}
{"@t":"2023-10-20T09:51:27.6682120Z","@mt":"Queue is exhausted","@i":"9094e2ac","@tr":"3e9536d16c3237628725d9738c345fe1","@sp":"95c2882c2e069c23","@ra":{"service":{"name":"Datalust.Web.Seq"},"telemetry":{"sdk":{"language":"dotnet","name":"serilog","version":"1.2.0-dev-00247"}}},"ActionId":"ed5db20c-e6b4-4c06-837d-59924452c54e","ActionName":"Datalust.Web.Seq.Api.Schedule.ScheduleApiController.Check (Datalust.Web.Seq)","Application":"Datalust.Web.Seq","ConnectionId":"0HMUG80VGECD6","ImageVersion":"99.99.99","JobRunnerInstance":"5441c1c9840a4fdd993a85f6217fb5f8","RequestId":"0HMUG80VGECD6:00000001","RequestPath":"/api/schedule/check","SourceContext":"Datalust.Web.Seq.Infrastructure.Scheduling.JobRunner"}
{"@t":"2023-10-20T09:51:27.6683380Z","@mt":"Check job schedule","@i":"49dc34bb","@tr":"3e9536d16c3237628725d9738c345fe1","@sp":"95c2882c2e069c23","@st":"2023-10-20T09:51:27.6607850Z","@ps":"650ce5d03899a71d","@ra":{"service":{"instance":{"id":"41f1d0cb-a873-4d56-9c1e-74227e6bff3f"},"name":"Datalust.Web.Seq","version":"99.99.99"},"telemetry":{"sdk":{"language":"dotnet","name":"opentelemetry","version":"1.6.0"}}}}
{"@t":"2023-10-20T09:51:27.6685100Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@i":"37aa1435","@r":["8.8016"],"@ra":{"service":{"name":"Datalust.Web.Seq"},"telemetry":{"sdk":{"language":"dotnet","name":"serilog","version":"1.2.0-dev-00247"}}},"Application":"Datalust.Web.Seq","ConnectionId":"0HMUG80VGECD6","Elapsed":8.801625,"ImageVersion":"99.99.99","RequestId":"0HMUG80VGECD6:00000001","RequestMethod":"POST","RequestPath":"/api/schedule/check","SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","StatusCode":200}
{"@t":"2023-10-20T09:51:27.6687380Z","@mt":"api/schedule/check","@i":"6bc7132d","@tr":"3e9536d16c3237628725d9738c345fe1","@sp":"650ce5d03899a71d","@st":"2023-10-20T09:51:27.6594010Z","@ra":{"service":{"instance":{"id":"41f1d0cb-a873-4d56-9c1e-74227e6bff3f"},"name":"Datalust.Web.Seq","version":"99.99.99"},"telemetry":{"sdk":{"language":"dotnet","name":"opentelemetry","version":"1.6.0"}}},"http":{"flavor":"1.1","method":"POST","route":"api/schedule/check","scheme":"http","status_code":200,"target":"/api/schedule/check","url":"http://localhost:8080/api/schedule/check"},"net":{"host":{"name":"localhost","port":8080}}}
{"@t":"2023-10-20T09:51:31.0221150Z","@mt":"Health check {Method} {TargetUrl} {Outcome} with status code {StatusCode} in {Elapsed:0.000} ms","@i":"decf5ef6","@r":["162.083"],"ContentLength":3057,"ContentType":"text/html; charset=UTF-8","Elapsed":162.0829,"HealthCheckTitle":"Check health","InitialContent":"<!DOCTYPE html>\n","Method":"GET","Outcome":"succeeded","ProbeId":"NcT2VKLEE7hL","StatusCode":200,"TargetUrl":"https://www.withouttheloop.com"}
{"@t":"2023-10-20T09:52:27.6686020Z","@mt":"POSTing to schedule check endpoint","@i":"0cc01c1f","Application":"Test Storefront"}
{"@t":"2023-10-20T09:52:27.6730720Z","@mt":"Checking and running jobs from queue until {DoNotStartAfter}","@i":"7ae953f9","@tr":"d80e1ae6fc2fd3765dcaa48f66be8c78","@sp":"b939171326bd233a","@ra":{"service":{"name":"Datalust.Web.Seq"},"telemetry":{"sdk":{"language":"dotnet","name":"serilog","version":"1.2.0-dev-00247"}}},"ActionId":"ed5db20c-e6b4-4c06-837d-59924452c54e","ActionName":"Datalust.Web.Seq.Api.Schedule.ScheduleApiController.Check (Datalust.Web.Seq)","Application":"Datalust.Web.Seq","ConnectionId":"0HMUG80VGECD7","DoNotStartAfter":"2023-10-20T09:52:47.6730650+00:00","ImageVersion":"99.99.99","JobRunnerInstance":"0286c941892444a595a7c4afa2ae8849","RequestId":"0HMUG80VGECD7:00000001","RequestPath":"/api/schedule/check","SourceContext":"Datalust.Web.Seq.Infrastructure.Scheduling.JobRunner"}
{"@t":"2023-10-20T09:52:27.6795870Z","@mt":"datalust","@i":"80d4e8b6","@tr":"d80e1ae6fc2fd3765dcaa48f66be8c78","@sp":"e9c954565d50f508","@st":"2023-10-20T09:52:27.6735520Z","@ps":"7e04f370c3cb3633","@ra":{"service":{"instance":{"id":"41f1d0cb-a873-4d56-9c1e-74227e6bff3f"},"name":"Datalust.Web.Seq","version":"99.99.99"},"telemetry":{"sdk":{"language":"dotnet","name":"opentelemetry","version":"1.6.0"}}},"db":{"connection_id":474,"connection_string":"Host=localhost;Port=5432;Database=datalust;Username=postgres","name":"datalust","statement":"\n                        update datalust.job\n                        set status = @Running,\n                            leasedby = @LeasedBy,\n                            leaseduntil = now() + interval '5 minutes',\n                            attemptsremaining = attemptsremaining - 1\n                        where id = (select id from datalust.job\n                                    where status in (@Waiting, @Running, @Failed) and\n                                        dueat < @MinimumDueAt and\n                                        (leasedby is null or leaseduntil < now()) and\n                                        attemptsremaining > 0\n                                    for update skip locked\n                                    limit 1)\n                        returning id;","system":"postgresql","user":"postgres"},"net":{"peer":{"ip":"::1","name":"localhost"},"transport":"ip_tcp"},"peer":{"service":"localhost"}}
{"@t":"2023-10-20T09:52:27.6822200Z","@mt":"Lease next job","@i":"babf7e54","@tr":"d80e1ae6fc2fd3765dcaa48f66be8c78","@sp":"7e04f370c3cb3633","@st":"2023-10-20T09:52:27.6734230Z","@ps":"3ccac445d08656ee","@ra":{"service":{"instance":{"id":"41f1d0cb-a873-4d56-9c1e-74227e6bff3f"},"name":"Datalust.Web.Seq","version":"99.99.99"},"telemetry":{"sdk":{"language":"dotnet","name":"opentelemetry","version":"1.6.0"}}}}
{"@t":"2023-10-20T09:52:27.6822560Z","@mt":"Queue is exhausted","@i":"9094e2ac","@tr":"d80e1ae6fc2fd3765dcaa48f66be8c78","@sp":"3ccac445d08656ee","@ra":{"service":{"name":"Datalust.Web.Seq"},"telemetry":{"sdk":{"language":"dotnet","name":"serilog","version":"1.2.0-dev-00247"}}},"ActionId":"ed5db20c-e6b4-4c06-837d-59924452c54e","ActionName":"Datalust.Web.Seq.Api.Schedule.ScheduleApiController.Check (Datalust.Web.Seq)","Application":"Datalust.Web.Seq","ConnectionId":"0HMUG80VGECD7","ImageVersion":"99.99.99","JobRunnerInstance":"0286c941892444a595a7c4afa2ae8849","RequestId":"0HMUG80VGECD7:00000001","RequestPath":"/api/schedule/check","SourceContext":"Datalust.Web.Seq.Infrastructure.Scheduling.JobRunner"}
{"@t":"2023-10-20T09:52:27.6824750Z","@mt":"Check job schedule","@i":"49dc34bb","@tr":"d80e1ae6fc2fd3765dcaa48f66be8c78","@sp":"3ccac445d08656ee","@st":"2023-10-20T09:52:27.6733770Z","@ps":"b939171326bd233a","@ra":{"service":{"instance":{"id":"41f1d0cb-a873-4d56-9c1e-74227e6bff3f"},"name":"Datalust.Web.Seq","version":"99.99.99"},"telemetry":{"sdk":{"language":"dotnet","name":"opentelemetry","version":"1.6.0"}}}}
{"@t":"2023-10-20T09:52:27.6826590Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@i":"37aa1435","@r":["10.3531"],"@ra":{"service":{"name":"Datalust.Web.Seq"},"telemetry":{"sdk":{"language":"dotnet","name":"serilog","version":"1.2.0-dev-00247"}}},"Application":"Datalust.Web.Seq","ConnectionId":"0HMUG80VGECD7","Elapsed":10.353125,"ImageVersion":"99.99.99","RequestId":"0HMUG80VGECD7:00000001","RequestMethod":"POST","RequestPath":"/api/schedule/check","SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","StatusCode":200}
{"@t":"2023-10-20T09:52:27.6829080Z","@mt":"api/schedule/check","@i":"6bc7132d","@tr":"d80e1ae6fc2fd3765dcaa48f66be8c78","@sp":"b939171326bd233a","@st":"2023-10-20T09:52:27.6720130Z","@ra":{"service":{"instance":{"id":"41f1d0cb-a873-4d56-9c1e-74227e6bff3f"},"name":"Datalust.Web.Seq","version":"99.99.99"},"telemetry":{"sdk":{"language":"dotnet","name":"opentelemetry","version":"1.6.0"}}},"http":{"flavor":"1.1","method":"POST","route":"api/schedule/check","scheme":"http","status_code":200,"target":"/api/schedule/check","url":"http://localhost:8080/api/schedule/check"},"net":{"host":{"name":"localhost","port":8080}}}
{"@t":"2023-10-20T09:52:31.0230090Z","@mt":"Health check {Method} {TargetUrl} {Outcome} with status code {StatusCode} in {Elapsed:0.000} ms","@i":"decf5ef6","@r":["163.015"],"ContentLength":3057,"ContentType":"text/html; charset=UTF-8","Elapsed":163.0153,"HealthCheckTitle":"Check health","InitialContent":"<!DOCTYPE html>\n","Method":"GET","Outcome":"succeeded","ProbeId":"MMGY1p0IHNyf","StatusCode":200,"TargetUrl":"https://www.withouttheloop.com"}
{"@t":"2023-10-20T09:52:34.0631550Z","@mt":"datalust","@i":"80d4e8b6","@tr":"d89f5809b59c3f3c122c4b8d86c1b4ff","@sp":"ffb30891d37526c3","@st":"2023-10-20T09:52:34.0570250Z","@ra":{"service":{"instance":{"id":"41f1d0cb-a873-4d56-9c1e-74227e6bff3f"},"name":"Datalust.Web.Seq","version":"99.99.99"},"telemetry":{"sdk":{"language":"dotnet","name":"opentelemetry","version":"1.6.0"}}},"db":{"connection_id":474,"connection_string":"Host=localhost;Port=5432;Database=datalust;Username=postgres","name":"datalust","statement":"select * from datalust.subscriptiontier where generation = any(@AllowedGenerations)","system":"postgresql","user":"postgres"},"net":{"peer":{"ip":"::1","name":"localhost"},"transport":"ip_tcp"},"peer":{"service":"localhost"}}
{"@t":"2023-10-20T09:52:35.7306620Z","@mt":"Connect to PostgreSQL","@i":"31d2dbb6","@tr":"b1fafeeec6f79ebf579b642e0fc3b29c","@sp":"87a70c5d28d301f7","@st":"2023-10-20T09:52:35.7305840Z","@ps":"d82bd7f0d5c94ac6","@ra":{"service":{"instance":{"id":"41f1d0cb-a873-4d56-9c1e-74227e6bff3f"},"name":"Datalust.Web.Seq","version":"99.99.99"},"telemetry":{"sdk":{"language":"dotnet","name":"opentelemetry","version":"1.6.0"}}}}
{"@t":"2023-10-20T09:52:35.7393260Z","@mt":"datalust","@i":"80d4e8b6","@tr":"b1fafeeec6f79ebf579b642e0fc3b29c","@sp":"fd53ac030f0e6665","@st":"2023-10-20T09:52:35.7307290Z","@ps":"d82bd7f0d5c94ac6","@ra":{"service":{"instance":{"id":"41f1d0cb-a873-4d56-9c1e-74227e6bff3f"},"name":"Datalust.Web.Seq","version":"99.99.99"},"telemetry":{"sdk":{"language":"dotnet","name":"opentelemetry","version":"1.6.0"}}},"db":{"connection_id":474,"connection_string":"Host=localhost;Port=5432;Database=datalust;Username=postgres","name":"datalust","statement":"select * from datalust.release","system":"postgresql","user":"postgres"},"net":{"peer":{"ip":"::1","name":"localhost"},"transport":"ip_tcp"},"peer":{"service":"localhost"}}
{"@t":"2023-10-20T09:52:35.7422410Z","@mt":"Workflow step","@i":"1a01ce8c","@tr":"b1fafeeec6f79ebf579b642e0fc3b29c","@sp":"d82bd7f0d5c94ac6","@st":"2023-10-20T09:52:35.7304500Z","@ra":{"service":{"instance":{"id":"41f1d0cb-a873-4d56-9c1e-74227e6bff3f"},"name":"Datalust.Web.Seq","version":"99.99.99"},"telemetry":{"sdk":{"language":"dotnet","name":"opentelemetry","version":"1.6.0"}}},"StepId":"b4a35121adb4457cbf150b097f47a2ef","WorkflowStepState":"ReadOnly"}
{"@t":"2023-10-20T09:53:27.6832230Z","@mt":"POSTing to schedule check endpoint","@i":"0cc01c1f","Application":"Test Storefront"}
{"@t":"2023-10-20T09:53:27.6850170Z","@mt":"Checking and running jobs from queue until {DoNotStartAfter}","@i":"7ae953f9","@tr":"f7a60267e9d9851c450c985a2cb3ba25","@sp":"2cc9ff8c4eaa1db5","@ra":{"service":{"name":"Datalust.Web.Seq"},"telemetry":{"sdk":{"language":"dotnet","name":"serilog","version":"1.2.0-dev-00247"}}},"ActionId":"ed5db20c-e6b4-4c06-837d-59924452c54e","ActionName":"Datalust.Web.Seq.Api.Schedule.ScheduleApiController.Check (Datalust.Web.Seq)","Application":"Datalust.Web.Seq","ConnectionId":"0HMUG80VGECD8","DoNotStartAfter":"2023-10-20T09:53:47.6850140+00:00","ImageVersion":"99.99.99","JobRunnerInstance":"8bc894f840714269adb77b57ca3e07c8","RequestId":"0HMUG80VGECD8:00000001","RequestPath":"/api/schedule/check","SourceContext":"Datalust.Web.Seq.Infrastructure.Scheduling.JobRunner"}
{"@t":"2023-10-20T09:53:27.6983450Z","@mt":"datalust","@i":"80d4e8b6","@tr":"f7a60267e9d9851c450c985a2cb3ba25","@sp":"595ac210fbba345f","@st":"2023-10-20T09:53:27.6941810Z","@ps":"aed2751d4a5376bc","@ra":{"service":{"instance":{"id":"41f1d0cb-a873-4d56-9c1e-74227e6bff3f"},"name":"Datalust.Web.Seq","version":"99.99.99"},"telemetry":{"sdk":{"language":"dotnet","name":"opentelemetry","version":"1.6.0"}}},"db":{"connection_id":480,"connection_string":"Host=localhost;Port=5432;Database=datalust;Username=postgres","name":"datalust","statement":"\n                        update datalust.job\n                        set status = @Running,\n                            leasedby = @LeasedBy,\n                            leaseduntil = now() + interval '5 minutes',\n                            attemptsremaining = attemptsremaining - 1\n                        where id = (select id from datalust.job\n                                    where status in (@Waiting, @Running, @Failed) and\n                                        dueat < @MinimumDueAt and\n                                        (leasedby is null or leaseduntil < now()) and\n                                        attemptsremaining > 0\n                                    for update skip locked\n                                    limit 1)\n                        returning id;","system":"postgresql","user":"postgres"},"net":{"peer":{"ip":"::1","name":"localhost"},"transport":"ip_tcp"},"peer":{"service":"localhost"}}
{"@t":"2023-10-20T09:53:27.6998970Z","@mt":"Lease next job","@i":"babf7e54","@tr":"f7a60267e9d9851c450c985a2cb3ba25","@sp":"aed2751d4a5376bc","@st":"2023-10-20T09:53:27.6940800Z","@ps":"eac7bc37fd69416a","@ra":{"service":{"instance":{"id":"41f1d0cb-a873-4d56-9c1e-74227e6bff3f"},"name":"Datalust.Web.Seq","version":"99.99.99"},"telemetry":{"sdk":{"language":"dotnet","name":"opentelemetry","version":"1.6.0"}}}}
{"@t":"2023-10-20T09:53:27.6999170Z","@mt":"Queue is exhausted","@i":"9094e2ac","@tr":"f7a60267e9d9851c450c985a2cb3ba25","@sp":"eac7bc37fd69416a","@ra":{"service":{"name":"Datalust.Web.Seq"},"telemetry":{"sdk":{"language":"dotnet","name":"serilog","version":"1.2.0-dev-00247"}}},"ActionId":"ed5db20c-e6b4-4c06-837d-59924452c54e","ActionName":"Datalust.Web.Seq.Api.Schedule.ScheduleApiController.Check (Datalust.Web.Seq)","Application":"Datalust.Web.Seq","ConnectionId":"0HMUG80VGECD8","ImageVersion":"99.99.99","JobRunnerInstance":"8bc894f840714269adb77b57ca3e07c8","RequestId":"0HMUG80VGECD8:00000001","RequestPath":"/api/schedule/check","SourceContext":"Datalust.Web.Seq.Infrastructure.Scheduling.JobRunner"}
{"@t":"2023-10-20T09:53:27.7000220Z","@mt":"Check job schedule","@i":"49dc34bb","@tr":"f7a60267e9d9851c450c985a2cb3ba25","@sp":"eac7bc37fd69416a","@st":"2023-10-20T09:53:27.6851440Z","@ps":"2cc9ff8c4eaa1db5","@ra":{"service":{"instance":{"id":"41f1d0cb-a873-4d56-9c1e-74227e6bff3f"},"name":"Datalust.Web.Seq","version":"99.99.99"},"telemetry":{"sdk":{"language":"dotnet","name":"opentelemetry","version":"1.6.0"}}}}
{"@t":"2023-10-20T09:53:27.7001440Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@i":"37aa1435","@r":["15.3959"],"@ra":{"service":{"name":"Datalust.Web.Seq"},"telemetry":{"sdk":{"language":"dotnet","name":"serilog","version":"1.2.0-dev-00247"}}},"Application":"Datalust.Web.Seq","ConnectionId":"0HMUG80VGECD8","Elapsed":15.395875,"ImageVersion":"99.99.99","RequestId":"0HMUG80VGECD8:00000001","RequestMethod":"POST","RequestPath":"/api/schedule/check","SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","StatusCode":200}
{"@t":"2023-10-20T09:53:27.7002880Z","@mt":"api/schedule/check","@i":"6bc7132d","@tr":"f7a60267e9d9851c450c985a2cb3ba25","@sp":"2cc9ff8c4eaa1db5","@st":"2023-10-20T09:53:27.6846330Z","@ra":{"service":{"instance":{"id":"41f1d0cb-a873-4d56-9c1e-74227e6bff3f"},"name":"Datalust.Web.Seq","version":"99.99.99"},"telemetry":{"sdk":{"language":"dotnet","name":"opentelemetry","version":"1.6.0"}}},"http":{"flavor":"1.1","method":"POST","route":"api/schedule/check","scheme":"http","status_code":200,"target":"/api/schedule/check","url":"http://localhost:8080/api/schedule/check"},"net":{"host":{"name":"localhost","port":8080}}}
{"@t":"2023-10-20T09:53:31.0234170Z","@mt":"Health check {Method} {TargetUrl} {Outcome} with status code {StatusCode} in {Elapsed:0.000} ms","@i":"decf5ef6","@r":["179.378"],"ContentLength":3057,"ContentType":"text/html; charset=UTF-8","Elapsed":179.3778,"HealthCheckTitle":"Check health","InitialContent":"<!DOCTYPE html>\n","Method":"GET","Outcome":"succeeded","ProbeId":"9PigvsVdIelo","StatusCode":200,"TargetUrl":"https://www.withouttheloop.com"}
{"@t":"2023-10-20T09:54:27.7016920Z","@mt":"POSTing to schedule check endpoint","@i":"0cc01c1f","Application":"Test Storefront"}
{"@t":"2023-10-20T09:54:27.7053120Z","@mt":"Checking and running jobs from queue until {DoNotStartAfter}","@i":"7ae953f9","@tr":"904850a58abd63f8b164b39347e6d793","@sp":"b72faf87f92eef40","@ra":{"service":{"name":"Datalust.Web.Seq"},"telemetry":{"sdk":{"language":"dotnet","name":"serilog","version":"1.2.0-dev-00247"}}},"ActionId":"ed5db20c-e6b4-4c06-837d-59924452c54e","ActionName":"Datalust.Web.Seq.Api.Schedule.ScheduleApiController.Check (Datalust.Web.Seq)","Application":"Datalust.Web.Seq","ConnectionId":"0HMUG80VGECD9","DoNotStartAfter":"2023-10-20T09:54:47.7053050+00:00","ImageVersion":"99.99.99","JobRunnerInstance":"7dd1068376e44ceaa13002f77055f14f","RequestId":"0HMUG80VGECD9:00000001","RequestPath":"/api/schedule/check","SourceContext":"Datalust.Web.Seq.Infrastructure.Scheduling.JobRunner"}
{"@t":"2023-10-20T09:54:27.7098360Z","@mt":"datalust","@i":"80d4e8b6","@tr":"904850a58abd63f8b164b39347e6d793","@sp":"cc9788c780ea1df4","@st":"2023-10-20T09:54:27.7056270Z","@ps":"36756bb5cc63d759","@ra":{"service":{"instance":{"id":"41f1d0cb-a873-4d56-9c1e-74227e6bff3f"},"name":"Datalust.Web.Seq","version":"99.99.99"},"telemetry":{"sdk":{"language":"dotnet","name":"opentelemetry","version":"1.6.0"}}},"db":{"connection_id":480,"connection_string":"Host=localhost;Port=5432;Database=datalust;Username=postgres","name":"datalust","statement":"\n                        update datalust.job\n                        set status = @Running,\n                            leasedby = @LeasedBy,\n                            leaseduntil = now() + interval '5 minutes',\n                            attemptsremaining = attemptsremaining - 1\n                        where id = (select id from datalust.job\n                                    where status in (@Waiting, @Running, @Failed) and\n                                        dueat < @MinimumDueAt and\n                                        (leasedby is null or leaseduntil < now()) and\n                                        attemptsremaining > 0\n                                    for update skip locked\n                                    limit 1)\n                        returning id;","system":"postgresql","user":"postgres"},"net":{"peer":{"ip":"::1","name":"localhost"},"transport":"ip_tcp"},"peer":{"service":"localhost"}}
{"@t":"2023-10-20T09:54:27.7122070Z","@mt":"Lease next job","@i":"babf7e54","@tr":"904850a58abd63f8b164b39347e6d793","@sp":"36756bb5cc63d759","@st":"2023-10-20T09:54:27.7055410Z","@ps":"38eb29b17abf8fb9","@ra":{"service":{"instance":{"id":"41f1d0cb-a873-4d56-9c1e-74227e6bff3f"},"name":"Datalust.Web.Seq","version":"99.99.99"},"telemetry":{"sdk":{"language":"dotnet","name":"opentelemetry","version":"1.6.0"}}}}
{"@t":"2023-10-20T09:54:27.7122410Z","@mt":"Queue is exhausted","@i":"9094e2ac","@tr":"904850a58abd63f8b164b39347e6d793","@sp":"38eb29b17abf8fb9","@ra":{"service":{"name":"Datalust.Web.Seq"},"telemetry":{"sdk":{"language":"dotnet","name":"serilog","version":"1.2.0-dev-00247"}}},"ActionId":"ed5db20c-e6b4-4c06-837d-59924452c54e","ActionName":"Datalust.Web.Seq.Api.Schedule.ScheduleApiController.Check (Datalust.Web.Seq)","Application":"Datalust.Web.Seq","ConnectionId":"0HMUG80VGECD9","ImageVersion":"99.99.99","JobRunnerInstance":"7dd1068376e44ceaa13002f77055f14f","RequestId":"0HMUG80VGECD9:00000001","RequestPath":"/api/schedule/check","SourceContext":"Datalust.Web.Seq.Infrastructure.Scheduling.JobRunner"}
{"@t":"2023-10-20T09:54:27.7123800Z","@mt":"Check job schedule","@i":"49dc34bb","@tr":"904850a58abd63f8b164b39347e6d793","@sp":"38eb29b17abf8fb9","@st":"2023-10-20T09:54:27.7055080Z","@ps":"b72faf87f92eef40","@ra":{"service":{"instance":{"id":"41f1d0cb-a873-4d56-9c1e-74227e6bff3f"},"name":"Datalust.Web.Seq","version":"99.99.99"},"telemetry":{"sdk":{"language":"dotnet","name":"opentelemetry","version":"1.6.0"}}}}
{"@t":"2023-10-20T09:54:27.7125330Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@i":"37aa1435","@r":["7.6880"],"@ra":{"service":{"name":"Datalust.Web.Seq"},"telemetry":{"sdk":{"language":"dotnet","name":"serilog","version":"1.2.0-dev-00247"}}},"Application":"Datalust.Web.Seq","ConnectionId":"0HMUG80VGECD9","Elapsed":7.687959,"ImageVersion":"99.99.99","RequestId":"0HMUG80VGECD9:00000001","RequestMethod":"POST","RequestPath":"/api/schedule/check","SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","StatusCode":200}
{"@t":"2023-10-20T09:54:27.7127020Z","@mt":"api/schedule/check","@i":"6bc7132d","@tr":"904850a58abd63f8b164b39347e6d793","@sp":"b72faf87f92eef40","@st":"2023-10-20T09:54:27.7046370Z","@ra":{"service":{"instance":{"id":"41f1d0cb-a873-4d56-9c1e-74227e6bff3f"},"name":"Datalust.Web.Seq","version":"99.99.99"},"telemetry":{"sdk":{"language":"dotnet","name":"opentelemetry","version":"1.6.0"}}},"http":{"flavor":"1.1","method":"POST","route":"api/schedule/check","scheme":"http","status_code":200,"target":"/api/schedule/check","url":"http://localhost:8080/api/schedule/check"},"net":{"host":{"name":"localhost","port":8080}}}
{"@t":"2023-10-20T09:54:31.0250890Z","@mt":"Health check {Method} {TargetUrl} {Outcome} with status code {StatusCode} in {Elapsed:0.000} ms","@i":"decf5ef6","@r":["159.032"],"ContentLength":3057,"ContentType":"text/html; charset=UTF-8","Elapsed":159.0323,"HealthCheckTitle":"Check health","InitialContent":"<!DOCTYPE html>\n","Method":"GET","Outcome":"succeeded","ProbeId":"xASXkLOfcgYm","StatusCode":200,"TargetUrl":"https://www.withouttheloop.com"}
{"@t":"2023-10-20T09:54:35.7424070Z","@mt":"Connect to PostgreSQL","@i":"31d2dbb6","@tr":"261820712f06c9fe441e08330da84fec","@sp":"13b9cd2c5c4af30c","@st":"2023-10-20T09:54:35.7423240Z","@ps":"b8c5f5be507c1840","@ra":{"service":{"instance":{"id":"41f1d0cb-a873-4d56-9c1e-74227e6bff3f"},"name":"Datalust.Web.Seq","version":"99.99.99"},"telemetry":{"sdk":{"language":"dotnet","name":"opentelemetry","version":"1.6.0"}}}}
{"@t":"2023-10-20T09:54:35.7535580Z","@mt":"datalust","@i":"80d4e8b6","@tr":"261820712f06c9fe441e08330da84fec","@sp":"0b559aec6088b77d","@st":"2023-10-20T09:54:35.7424650Z","@ps":"b8c5f5be507c1840","@ra":{"service":{"instance":{"id":"41f1d0cb-a873-4d56-9c1e-74227e6bff3f"},"name":"Datalust.Web.Seq","version":"99.99.99"},"telemetry":{"sdk":{"language":"dotnet","name":"opentelemetry","version":"1.6.0"}}},"db":{"connection_id":480,"connection_string":"Host=localhost;Port=5432;Database=datalust;Username=postgres","name":"datalust","statement":"select * from datalust.release","system":"postgresql","user":"postgres"},"net":{"peer":{"ip":"::1","name":"localhost"},"transport":"ip_tcp"},"peer":{"service":"localhost"}}
{"@t":"2023-10-20T09:54:35.7563280Z","@mt":"Workflow step","@i":"1a01ce8c","@tr":"261820712f06c9fe441e08330da84fec","@sp":"b8c5f5be507c1840","@st":"2023-10-20T09:54:35.7422770Z","@ra":{"service":{"instance":{"id":"41f1d0cb-a873-4d56-9c1e-74227e6bff3f"},"name":"Datalust.Web.Seq","version":"99.99.99"},"telemetry":{"sdk":{"language":"dotnet","name":"opentelemetry","version":"1.6.0"}}},"StepId":"5d0e4b992a9c42c3a9a53a144c3c6521","WorkflowStepState":"ReadOnly"}
{"@t":"2023-10-20T09:55:27.7132550Z","@mt":"POSTing to schedule check endpoint","@i":"0cc01c1f","Application":"Test Storefront"}
{"@t":"2023-10-20T09:55:27.7177950Z","@mt":"Checking and running jobs from queue until {DoNotStartAfter}","@i":"7ae953f9","@tr":"d163d806f9266ff2e4894045d1593ec2","@sp":"cbe1c2ad09c21a7b","@ra":{"service":{"name":"Datalust.Web.Seq"},"telemetry":{"sdk":{"language":"dotnet","name":"serilog","version":"1.2.0-dev-00247"}}},"ActionId":"ed5db20c-e6b4-4c06-837d-59924452c54e","ActionName":"Datalust.Web.Seq.Api.Schedule.ScheduleApiController.Check (Datalust.Web.Seq)","Application":"Datalust.Web.Seq","ConnectionId":"0HMUG80VGECDA","DoNotStartAfter":"2023-10-20T09:55:47.7177880+00:00","ImageVersion":"99.99.99","JobRunnerInstance":"ca1bcee28cf4426d9e5a86204a4ece8e","RequestId":"0HMUG80VGECDA:00000001","RequestPath":"/api/schedule/check","SourceContext":"Datalust.Web.Seq.Infrastructure.Scheduling.JobRunner"}
{"@t":"2023-10-20T09:55:27.7240190Z","@mt":"datalust","@i":"80d4e8b6","@tr":"d163d806f9266ff2e4894045d1593ec2","@sp":"c82dff8206ee91c4","@st":"2023-10-20T09:55:27.7182380Z","@ps":"4e8bdfc8b2dc2cf0","@ra":{"service":{"instance":{"id":"41f1d0cb-a873-4d56-9c1e-74227e6bff3f"},"name":"Datalust.Web.Seq","version":"99.99.99"},"telemetry":{"sdk":{"language":"dotnet","name":"opentelemetry","version":"1.6.0"}}},"db":{"connection_id":480,"connection_string":"Host=localhost;Port=5432;Database=datalust;Username=postgres","name":"datalust","statement":"\n                        update datalust.job\n                        set status = @Running,\n                            leasedby = @LeasedBy,\n                            leaseduntil = now() + interval '5 minutes',\n                            attemptsremaining = attemptsremaining - 1\n                        where id = (select id from datalust.job\n                                    where status in (@Waiting, @Running, @Failed) and\n                                        dueat < @MinimumDueAt and\n                                        (leasedby is null or leaseduntil < now()) and\n                                        attemptsremaining > 0\n                                    for update skip locked\n                                    limit 1)\n                        returning id;","system":"postgresql","user":"postgres"},"net":{"peer":{"ip":"::1","name":"localhost"},"transport":"ip_tcp"},"peer":{"service":"localhost"}}
{"@t":"2023-10-20T09:55:27.7269560Z","@mt":"Lease next job","@i":"babf7e54","@tr":"d163d806f9266ff2e4894045d1593ec2","@sp":"4e8bdfc8b2dc2cf0","@st":"2023-10-20T09:55:27.7181300Z","@ps":"01b3729a13e70db2","@ra":{"service":{"instance":{"id":"41f1d0cb-a873-4d56-9c1e-74227e6bff3f"},"name":"Datalust.Web.Seq","version":"99.99.99"},"telemetry":{"sdk":{"language":"dotnet","name":"opentelemetry","version":"1.6.0"}}}}
{"@t":"2023-10-20T09:55:27.7270000Z","@mt":"Queue is exhausted","@i":"9094e2ac","@tr":"d163d806f9266ff2e4894045d1593ec2","@sp":"01b3729a13e70db2","@ra":{"service":{"name":"Datalust.Web.Seq"},"telemetry":{"sdk":{"language":"dotnet","name":"serilog","version":"1.2.0-dev-00247"}}},"ActionId":"ed5db20c-e6b4-4c06-837d-59924452c54e","ActionName":"Datalust.Web.Seq.Api.Schedule.ScheduleApiController.Check (Datalust.Web.Seq)","Application":"Datalust.Web.Seq","ConnectionId":"0HMUG80VGECDA","ImageVersion":"99.99.99","JobRunnerInstance":"ca1bcee28cf4426d9e5a86204a4ece8e","RequestId":"0HMUG80VGECDA:00000001","RequestPath":"/api/schedule/check","SourceContext":"Datalust.Web.Seq.Infrastructure.Scheduling.JobRunner"}
{"@t":"2023-10-20T09:55:27.7272380Z","@mt":"Check job schedule","@i":"49dc34bb","@tr":"d163d806f9266ff2e4894045d1593ec2","@sp":"01b3729a13e70db2","@st":"2023-10-20T09:55:27.7180650Z","@ps":"cbe1c2ad09c21a7b","@ra":{"service":{"instance":{"id":"41f1d0cb-a873-4d56-9c1e-74227e6bff3f"},"name":"Datalust.Web.Seq","version":"99.99.99"},"telemetry":{"sdk":{"language":"dotnet","name":"opentelemetry","version":"1.6.0"}}}}
{"@t":"2023-10-20T09:55:27.7274460Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@i":"37aa1435","@r":["10.3130"],"@ra":{"service":{"name":"Datalust.Web.Seq"},"telemetry":{"sdk":{"language":"dotnet","name":"serilog","version":"1.2.0-dev-00247"}}},"Application":"Datalust.Web.Seq","ConnectionId":"0HMUG80VGECDA","Elapsed":10.313,"ImageVersion":"99.99.99","RequestId":"0HMUG80VGECDA:00000001","RequestMethod":"POST","RequestPath":"/api/schedule/check","SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","StatusCode":200}
{"@t":"2023-10-20T09:55:27.7277350Z","@mt":"api/schedule/check","@i":"6bc7132d","@tr":"d163d806f9266ff2e4894045d1593ec2","@sp":"cbe1c2ad09c21a7b","@st":"2023-10-20T09:55:27.7168810Z","@ra":{"service":{"instance":{"id":"41f1d0cb-a873-4d56-9c1e-74227e6bff3f"},"name":"Datalust.Web.Seq","version":"99.99.99"},"telemetry":{"sdk":{"language":"dotnet","name":"opentelemetry","version":"1.6.0"}}},"http":{"flavor":"1.1","method":"POST","route":"api/schedule/check","scheme":"http","status_code":200,"target":"/api/schedule/check","url":"http://localhost:8080/api/schedule/check"},"net":{"host":{"name":"localhost","port":8080}}}
{"@t":"2023-10-20T09:55:31.0264720Z","@mt":"Health check {Method} {TargetUrl} {Outcome} with status code {StatusCode} in {Elapsed:0.000} ms","@i":"decf5ef6","@r":["189.164"],"ContentLength":3057,"ContentType":"text/html; charset=UTF-8","Elapsed":189.164,"HealthCheckTitle":"Check health","InitialContent":"<!DOCTYPE html>\n","Method":"GET","Outcome":"succeeded","ProbeId":"KzEKJoriSfrM","StatusCode":200,"TargetUrl":"https://www.withouttheloop.com"}
{"@t":"2023-10-20T09:56:27.7291220Z","@mt":"POSTing to schedule check endpoint","@i":"0cc01c1f","Application":"Test Storefront"}
{"@t":"2023-10-20T09:56:27.7356500Z","@mt":"Checking and running jobs from queue until {DoNotStartAfter}","@i":"7ae953f9","@tr":"89052c5f425fbbe0f9419c3489a2135c","@sp":"97c7d5c84c480576","@ra":{"service":{"name":"Datalust.Web.Seq"},"telemetry":{"sdk":{"language":"dotnet","name":"serilog","version":"1.2.0-dev-00247"}}},"ActionId":"ed5db20c-e6b4-4c06-837d-59924452c54e","ActionName":"Datalust.Web.Seq.Api.Schedule.ScheduleApiController.Check (Datalust.Web.Seq)","Application":"Datalust.Web.Seq","ConnectionId":"0HMUG80VGECDB","DoNotStartAfter":"2023-10-20T09:56:47.7356330+00:00","ImageVersion":"99.99.99","JobRunnerInstance":"63c7d356e2564d6d850a7d0c5266f914","RequestId":"0HMUG80VGECDB:00000001","RequestPath":"/api/schedule/check","SourceContext":"Datalust.Web.Seq.Infrastructure.Scheduling.JobRunner"}
{"@t":"2023-10-20T09:56:27.7431130Z","@mt":"datalust","@i":"80d4e8b6","@tr":"89052c5f425fbbe0f9419c3489a2135c","@sp":"f4b9c17e258d9393","@st":"2023-10-20T09:56:27.7363290Z","@ps":"b4d7cb3b8ed8751e","@ra":{"service":{"instance":{"id":"41f1d0cb-a873-4d56-9c1e-74227e6bff3f"},"name":"Datalust.Web.Seq","version":"99.99.99"},"telemetry":{"sdk":{"language":"dotnet","name":"opentelemetry","version":"1.6.0"}}},"db":{"connection_id":480,"connection_string":"Host=localhost;Port=5432;Database=datalust;Username=postgres","name":"datalust","statement":"\n                        update datalust.job\n                        set status = @Running,\n                            leasedby = @LeasedBy,\n                            leaseduntil = now() + interval '5 minutes',\n                            attemptsremaining = attemptsremaining - 1\n                        where id = (select id from datalust.job\n                                    where status in (@Waiting, @Running, @Failed) and\n                                        dueat < @MinimumDueAt and\n                                        (leasedby is null or leaseduntil < now()) and\n                                        attemptsremaining > 0\n                                    for update skip locked\n                                    limit 1)\n                        returning id;","system":"postgresql","user":"postgres"},"net":{"peer":{"ip":"::1","name":"localhost"},"transport":"ip_tcp"},"peer":{"service":"localhost"}}
{"@t":"2023-10-20T09:56:27.7449730Z","@mt":"Lease next job","@i":"babf7e54","@tr":"89052c5f425fbbe0f9419c3489a2135c","@sp":"b4d7cb3b8ed8751e","@st":"2023-10-20T09:56:27.7361320Z","@ps":"f837eee9a55de5b4","@ra":{"service":{"instance":{"id":"41f1d0cb-a873-4d56-9c1e-74227e6bff3f"},"name":"Datalust.Web.Seq","version":"99.99.99"},"telemetry":{"sdk":{"language":"dotnet","name":"opentelemetry","version":"1.6.0"}}}}
{"@t":"2023-10-20T09:56:27.7450120Z","@mt":"Queue is exhausted","@i":"9094e2ac","@tr":"89052c5f425fbbe0f9419c3489a2135c","@sp":"f837eee9a55de5b4","@ra":{"service":{"name":"Datalust.Web.Seq"},"telemetry":{"sdk":{"language":"dotnet","name":"serilog","version":"1.2.0-dev-00247"}}},"ActionId":"ed5db20c-e6b4-4c06-837d-59924452c54e","ActionName":"Datalust.Web.Seq.Api.Schedule.ScheduleApiController.Check (Datalust.Web.Seq)","Application":"Datalust.Web.Seq","ConnectionId":"0HMUG80VGECDB","ImageVersion":"99.99.99","JobRunnerInstance":"63c7d356e2564d6d850a7d0c5266f914","RequestId":"0HMUG80VGECDB:00000001","RequestPath":"/api/schedule/check","SourceContext":"Datalust.Web.Seq.Infrastructure.Scheduling.JobRunner"}
{"@t":"2023-10-20T09:56:27.7451890Z","@mt":"Check job schedule","@i":"49dc34bb","@tr":"89052c5f425fbbe0f9419c3489a2135c","@sp":"f837eee9a55de5b4","@st":"2023-10-20T09:56:27.7359980Z","@ps":"97c7d5c84c480576","@ra":{"service":{"instance":{"id":"41f1d0cb-a873-4d56-9c1e-74227e6bff3f"},"name":"Datalust.Web.Seq","version":"99.99.99"},"telemetry":{"sdk":{"language":"dotnet","name":"opentelemetry","version":"1.6.0"}}}}
{"@t":"2023-10-20T09:56:27.7454360Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@i":"37aa1435","@r":["11.0012"],"@ra":{"service":{"name":"Datalust.Web.Seq"},"telemetry":{"sdk":{"language":"dotnet","name":"serilog","version":"1.2.0-dev-00247"}}},"Application":"Datalust.Web.Seq","ConnectionId":"0HMUG80VGECDB","Elapsed":11.001166,"ImageVersion":"99.99.99","RequestId":"0HMUG80VGECDB:00000001","RequestMethod":"POST","RequestPath":"/api/schedule/check","SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","StatusCode":200}
{"@t":"2023-10-20T09:56:27.7456960Z","@mt":"api/schedule/check","@i":"6bc7132d","@tr":"89052c5f425fbbe0f9419c3489a2135c","@sp":"97c7d5c84c480576","@st":"2023-10-20T09:56:27.7337590Z","@ra":{"service":{"instance":{"id":"41f1d0cb-a873-4d56-9c1e-74227e6bff3f"},"name":"Datalust.Web.Seq","version":"99.99.99"},"telemetry":{"sdk":{"language":"dotnet","name":"opentelemetry","version":"1.6.0"}}},"http":{"flavor":"1.1","method":"POST","route":"api/schedule/check","scheme":"http","status_code":200,"target":"/api/schedule/check","url":"http://localhost:8080/api/schedule/check"},"net":{"host":{"name":"localhost","port":8080}}}
{"@t":"2023-10-20T09:56:31.0277330Z","@mt":"Health check {Method} {TargetUrl} {Outcome} with status code {StatusCode} in {Elapsed:0.000} ms","@i":"decf5ef6","@r":["170.019"],"ContentLength":3057,"ContentType":"text/html; charset=UTF-8","Elapsed":170.0185,"HealthCheckTitle":"Check health","InitialContent":"<!DOCTYPE html>\n","Method":"GET","Outcome":"succeeded","ProbeId":"W2qUng6OaFaz","StatusCode":200,"TargetUrl":"https://www.withouttheloop.com"}
{"@t":"2023-10-20T09:56:35.7553220Z","@mt":"Connect to PostgreSQL","@i":"31d2dbb6","@tr":"163dae305c09a3239bae0fc8738bc548","@sp":"c66910227c8c16ea","@st":"2023-10-20T09:56:35.7552440Z","@ps":"4f32320f1cdf0914","@ra":{"service":{"instance":{"id":"41f1d0cb-a873-4d56-9c1e-74227e6bff3f"},"name":"Datalust.Web.Seq","version":"99.99.99"},"telemetry":{"sdk":{"language":"dotnet","name":"opentelemetry","version":"1.6.0"}}}}
{"@t":"2023-10-20T09:56:35.7647870Z","@mt":"datalust","@i":"80d4e8b6","@tr":"163dae305c09a3239bae0fc8738bc548","@sp":"18c4c0089af4c533","@st":"2023-10-20T09:56:35.7553850Z","@ps":"4f32320f1cdf0914","@ra":{"service":{"instance":{"id":"41f1d0cb-a873-4d56-9c1e-74227e6bff3f"},"name":"Datalust.Web.Seq","version":"99.99.99"},"telemetry":{"sdk":{"language":"dotnet","name":"opentelemetry","version":"1.6.0"}}},"db":{"connection_id":480,"connection_string":"Host=localhost;Port=5432;Database=datalust;Username=postgres","name":"datalust","statement":"select * from datalust.release","system":"postgresql","user":"postgres"},"net":{"peer":{"ip":"::1","name":"localhost"},"transport":"ip_tcp"},"peer":{"service":"localhost"}}
{"@t":"2023-10-20T09:56:35.7676570Z","@mt":"Workflow step","@i":"1a01ce8c","@tr":"163dae305c09a3239bae0fc8738bc548","@sp":"4f32320f1cdf0914","@st":"2023-10-20T09:56:35.7551720Z","@ra":{"service":{"instance":{"id":"41f1d0cb-a873-4d56-9c1e-74227e6bff3f"},"name":"Datalust.Web.Seq","version":"99.99.99"},"telemetry":{"sdk":{"language":"dotnet","name":"opentelemetry","version":"1.6.0"}}},"StepId":"c416505816b94112bae25f2a6b3be1ed","WorkflowStepState":"ReadOnly"}
{"@t":"2023-10-20T09:57:27.7469060Z","@mt":"POSTing to schedule check endpoint","@i":"0cc01c1f","Application":"Test Storefront"}
{"@t":"2023-10-20T09:57:27.7513210Z","@mt":"Checking and running jobs from queue until {DoNotStartAfter}","@i":"7ae953f9","@tr":"d6d30cd1dd695a73fe893e8485af3dc0","@sp":"dad9b2b30f488e9e","@ra":{"service":{"name":"Datalust.Web.Seq"},"telemetry":{"sdk":{"language":"dotnet","name":"serilog","version":"1.2.0-dev-00247"}}},"ActionId":"ed5db20c-e6b4-4c06-837d-59924452c54e","ActionName":"Datalust.Web.Seq.Api.Schedule.ScheduleApiController.Check (Datalust.Web.Seq)","Application":"Datalust.Web.Seq","ConnectionId":"0HMUG80VGECDC","DoNotStartAfter":"2023-10-20T09:57:47.7513140+00:00","ImageVersion":"99.99.99","JobRunnerInstance":"4523587f3ac44da28d6dcd527b4c9098","RequestId":"0HMUG80VGECDC:00000001","RequestPath":"/api/schedule/check","SourceContext":"Datalust.Web.Seq.Infrastructure.Scheduling.JobRunner"}
{"@t":"2023-10-20T09:57:27.7572310Z","@mt":"datalust","@i":"80d4e8b6","@tr":"d6d30cd1dd695a73fe893e8485af3dc0","@sp":"8c334c8dc29ccc5f","@st":"2023-10-20T09:57:27.7517810Z","@ps":"dc0928a36b2910c8","@ra":{"service":{"instance":{"id":"41f1d0cb-a873-4d56-9c1e-74227e6bff3f"},"name":"Datalust.Web.Seq","version":"99.99.99"},"telemetry":{"sdk":{"language":"dotnet","name":"opentelemetry","version":"1.6.0"}}},"db":{"connection_id":480,"connection_string":"Host=localhost;Port=5432;Database=datalust;Username=postgres","name":"datalust","statement":"\n                        update datalust.job\n                        set status = @Running,\n                            leasedby = @LeasedBy,\n                            leaseduntil = now() + interval '5 minutes',\n                            attemptsremaining = attemptsremaining - 1\n                        where id = (select id from datalust.job\n                                    where status in (@Waiting, @Running, @Failed) and\n                                        dueat < @MinimumDueAt and\n                                        (leasedby is null or leaseduntil < now()) and\n                                        attemptsremaining > 0\n                                    for update skip locked\n                                    limit 1)\n                        returning id;","system":"postgresql","user":"postgres"},"net":{"peer":{"ip":"::1","name":"localhost"},"transport":"ip_tcp"},"peer":{"service":"localhost"}}
{"@t":"2023-10-20T09:57:27.7601200Z","@mt":"Lease next job","@i":"babf7e54","@tr":"d6d30cd1dd695a73fe893e8485af3dc0","@sp":"dc0928a36b2910c8","@st":"2023-10-20T09:57:27.7516680Z","@ps":"61fd7bc310e7cd95","@ra":{"service":{"instance":{"id":"41f1d0cb-a873-4d56-9c1e-74227e6bff3f"},"name":"Datalust.Web.Seq","version":"99.99.99"},"telemetry":{"sdk":{"language":"dotnet","name":"opentelemetry","version":"1.6.0"}}}}
{"@t":"2023-10-20T09:57:27.7601610Z","@mt":"Queue is exhausted","@i":"9094e2ac","@tr":"d6d30cd1dd695a73fe893e8485af3dc0","@sp":"61fd7bc310e7cd95","@ra":{"service":{"name":"Datalust.Web.Seq"},"telemetry":{"sdk":{"language":"dotnet","name":"serilog","version":"1.2.0-dev-00247"}}},"ActionId":"ed5db20c-e6b4-4c06-837d-59924452c54e","ActionName":"Datalust.Web.Seq.Api.Schedule.ScheduleApiController.Check (Datalust.Web.Seq)","Application":"Datalust.Web.Seq","ConnectionId":"0HMUG80VGECDC","ImageVersion":"99.99.99","JobRunnerInstance":"4523587f3ac44da28d6dcd527b4c9098","RequestId":"0HMUG80VGECDC:00000001","RequestPath":"/api/schedule/check","SourceContext":"Datalust.Web.Seq.Infrastructure.Scheduling.JobRunner"}
{"@t":"2023-10-20T09:57:27.7603720Z","@mt":"Check job schedule","@i":"49dc34bb","@tr":"d6d30cd1dd695a73fe893e8485af3dc0","@sp":"61fd7bc310e7cd95","@st":"2023-10-20T09:57:27.7516230Z","@ps":"dad9b2b30f488e9e","@ra":{"service":{"instance":{"id":"41f1d0cb-a873-4d56-9c1e-74227e6bff3f"},"name":"Datalust.Web.Seq","version":"99.99.99"},"telemetry":{"sdk":{"language":"dotnet","name":"opentelemetry","version":"1.6.0"}}}}
{"@t":"2023-10-20T09:57:27.7606320Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@i":"37aa1435","@r":["10.0719"],"@ra":{"service":{"name":"Datalust.Web.Seq"},"telemetry":{"sdk":{"language":"dotnet","name":"serilog","version":"1.2.0-dev-00247"}}},"Application":"Datalust.Web.Seq","ConnectionId":"0HMUG80VGECDC","Elapsed":10.071917,"ImageVersion":"99.99.99","RequestId":"0HMUG80VGECDC:00000001","RequestMethod":"POST","RequestPath":"/api/schedule/check","SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","StatusCode":200}
{"@t":"2023-10-20T09:57:27.7609590Z","@mt":"api/schedule/check","@i":"6bc7132d","@tr":"d6d30cd1dd695a73fe893e8485af3dc0","@sp":"dad9b2b30f488e9e","@st":"2023-10-20T09:57:27.7502640Z","@ra":{"service":{"instance":{"id":"41f1d0cb-a873-4d56-9c1e-74227e6bff3f"},"name":"Datalust.Web.Seq","version":"99.99.99"},"telemetry":{"sdk":{"language":"dotnet","name":"opentelemetry","version":"1.6.0"}}},"http":{"flavor":"1.1","method":"POST","route":"api/schedule/check","scheme":"http","status_code":200,"target":"/api/schedule/check","url":"http://localhost:8080/api/schedule/check"},"net":{"host":{"name":"localhost","port":8080}}}
{"@t":"2023-10-20T09:57:31.0285150Z","@mt":"Health check {Method} {TargetUrl} {Outcome} with status code {StatusCode} in {Elapsed:0.000} ms","@i":"decf5ef6","@r":["151.410"],"ContentLength":3057,"ContentType":"text/html; charset=UTF-8","Elapsed":151.4097,"HealthCheckTitle":"Check health","InitialContent":"<!DOCTYPE html>\n","Method":"GET","Outcome":"succeeded","ProbeId":"GBJlIvsNw3Wq","StatusCode":200,"TargetUrl":"https://www.withouttheloop.com"}
{"@t":"2023-10-20T09:57:34.0637440Z","@mt":"datalust","@i":"80d4e8b6","@tr":"90ae95086c07ce17a0ea64fca6929a82","@sp":"378d34131f729ec9","@st":"2023-10-20T09:57:34.0596620Z","@ra":{"service":{"instance":{"id":"41f1d0cb-a873-4d56-9c1e-74227e6bff3f"},"name":"Datalust.Web.Seq","version":"99.99.99"},"telemetry":{"sdk":{"language":"dotnet","name":"opentelemetry","version":"1.6.0"}}},"db":{"connection_id":480,"connection_string":"Host=localhost;Port=5432;Database=datalust;Username=postgres","name":"datalust","statement":"select * from datalust.subscriptiontier where generation = any(@AllowedGenerations)","system":"postgresql","user":"postgres"},"net":{"peer":{"ip":"::1","name":"localhost"},"transport":"ip_tcp"},"peer":{"service":"localhost"}}
{"@t":"2023-10-20T09:58:27.7614480Z","@mt":"POSTing to schedule check endpoint","@i":"0cc01c1f","Application":"Test Storefront"}
{"@t":"2023-10-20T09:58:27.7656790Z","@mt":"Checking and running jobs from queue until {DoNotStartAfter}","@i":"7ae953f9","@tr":"fdbe0889ed9a92ea3708c9794a616ab2","@sp":"171504de16be439c","@ra":{"service":{"name":"Datalust.Web.Seq"},"telemetry":{"sdk":{"language":"dotnet","name":"serilog","version":"1.2.0-dev-00247"}}},"ActionId":"ed5db20c-e6b4-4c06-837d-59924452c54e","ActionName":"Datalust.Web.Seq.Api.Schedule.ScheduleApiController.Check (Datalust.Web.Seq)","Application":"Datalust.Web.Seq","ConnectionId":"0HMUG80VGECDD","DoNotStartAfter":"2023-10-20T09:58:47.7656710+00:00","ImageVersion":"99.99.99","JobRunnerInstance":"7a924e6562484d788f95b74a1d9ee703","RequestId":"0HMUG80VGECDD:00000001","RequestPath":"/api/schedule/check","SourceContext":"Datalust.Web.Seq.Infrastructure.Scheduling.JobRunner"}
{"@t":"2023-10-20T09:58:27.7834080Z","@mt":"datalust","@i":"80d4e8b6","@tr":"fdbe0889ed9a92ea3708c9794a616ab2","@sp":"25b49a0442ed4b19","@st":"2023-10-20T09:58:27.7783380Z","@ps":"1e88dff4622f3bb1","@ra":{"service":{"instance":{"id":"41f1d0cb-a873-4d56-9c1e-74227e6bff3f"},"name":"Datalust.Web.Seq","version":"99.99.99"},"telemetry":{"sdk":{"language":"dotnet","name":"opentelemetry","version":"1.6.0"}}},"db":{"connection_id":486,"connection_string":"Host=localhost;Port=5432;Database=datalust;Username=postgres","name":"datalust","statement":"\n                        update datalust.job\n                        set status = @Running,\n                            leasedby = @LeasedBy,\n                            leaseduntil = now() + interval '5 minutes',\n                            attemptsremaining = attemptsremaining - 1\n                        where id = (select id from datalust.job\n                                    where status in (@Waiting, @Running, @Failed) and\n                                        dueat < @MinimumDueAt and\n                                        (leasedby is null or leaseduntil < now()) and\n                                        attemptsremaining > 0\n                                    for update skip locked\n                                    limit 1)\n                        returning id;","system":"postgresql","user":"postgres"},"net":{"peer":{"ip":"::1","name":"localhost"},"transport":"ip_tcp"},"peer":{"service":"localhost"}}
{"@t":"2023-10-20T09:58:27.7849740Z","@mt":"Lease next job","@i":"babf7e54","@tr":"fdbe0889ed9a92ea3708c9794a616ab2","@sp":"1e88dff4622f3bb1","@st":"2023-10-20T09:58:27.7782490Z","@ps":"d864aaf0b39a0520","@ra":{"service":{"instance":{"id":"41f1d0cb-a873-4d56-9c1e-74227e6bff3f"},"name":"Datalust.Web.Seq","version":"99.99.99"},"telemetry":{"sdk":{"language":"dotnet","name":"opentelemetry","version":"1.6.0"}}}}
{"@t":"2023-10-20T09:58:27.7849900Z","@mt":"Queue is exhausted","@i":"9094e2ac","@tr":"fdbe0889ed9a92ea3708c9794a616ab2","@sp":"d864aaf0b39a0520","@ra":{"service":{"name":"Datalust.Web.Seq"},"telemetry":{"sdk":{"language":"dotnet","name":"serilog","version":"1.2.0-dev-00247"}}},"ActionId":"ed5db20c-e6b4-4c06-837d-59924452c54e","ActionName":"Datalust.Web.Seq.Api.Schedule.ScheduleApiController.Check (Datalust.Web.Seq)","Application":"Datalust.Web.Seq","ConnectionId":"0HMUG80VGECDD","ImageVersion":"99.99.99","JobRunnerInstance":"7a924e6562484d788f95b74a1d9ee703","RequestId":"0HMUG80VGECDD:00000001","RequestPath":"/api/schedule/check","SourceContext":"Datalust.Web.Seq.Infrastructure.Scheduling.JobRunner"}
{"@t":"2023-10-20T09:58:27.7851410Z","@mt":"Check job schedule","@i":"49dc34bb","@tr":"fdbe0889ed9a92ea3708c9794a616ab2","@sp":"d864aaf0b39a0520","@st":"2023-10-20T09:58:27.7659420Z","@ps":"171504de16be439c","@ra":{"service":{"instance":{"id":"41f1d0cb-a873-4d56-9c1e-74227e6bff3f"},"name":"Datalust.Web.Seq","version":"99.99.99"},"telemetry":{"sdk":{"language":"dotnet","name":"opentelemetry","version":"1.6.0"}}}}
{"@t":"2023-10-20T09:58:27.7852990Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@i":"37aa1435","@r":["20.3258"],"@ra":{"service":{"name":"Datalust.Web.Seq"},"telemetry":{"sdk":{"language":"dotnet","name":"serilog","version":"1.2.0-dev-00247"}}},"Application":"Datalust.Web.Seq","ConnectionId":"0HMUG80VGECDD","Elapsed":20.325792,"ImageVersion":"99.99.99","RequestId":"0HMUG80VGECDD:00000001","RequestMethod":"POST","RequestPath":"/api/schedule/check","SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","StatusCode":200}
{"@t":"2023-10-20T09:58:27.7855210Z","@mt":"api/schedule/check","@i":"6bc7132d","@tr":"fdbe0889ed9a92ea3708c9794a616ab2","@sp":"171504de16be439c","@st":"2023-10-20T09:58:27.7646120Z","@ra":{"service":{"instance":{"id":"41f1d0cb-a873-4d56-9c1e-74227e6bff3f"},"name":"Datalust.Web.Seq","version":"99.99.99"},"telemetry":{"sdk":{"language":"dotnet","name":"opentelemetry","version":"1.6.0"}}},"http":{"flavor":"1.1","method":"POST","route":"api/schedule/check","scheme":"http","status_code":200,"target":"/api/schedule/check","url":"http://localhost:8080/api/schedule/check"},"net":{"host":{"name":"localhost","port":8080}}}
{"@t":"2023-10-20T09:58:31.0296580Z","@mt":"Health check {Method} {TargetUrl} {Outcome} with status code {StatusCode} in {Elapsed:0.000} ms","@i":"decf5ef6","@r":["153.654"],"ContentLength":3057,"ContentType":"text/html; charset=UTF-8","Elapsed":153.6535,"HealthCheckTitle":"Check health","InitialContent":"<!DOCTYPE html>\n","Method":"GET","Outcome":"succeeded","ProbeId":"4ohKlwnKY5T8","StatusCode":200,"TargetUrl":"https://www.withouttheloop.com"}
{"@t":"2023-10-20T09:58:35.7669790Z","@mt":"Connect to PostgreSQL","@i":"31d2dbb6","@tr":"f0891c62aaa7f1f4fdf96827786ee9dc","@sp":"27a6c207892e0342","@st":"2023-10-20T09:58:35.7669360Z","@ps":"46bf236de00eaff4","@ra":{"service":{"instance":{"id":"41f1d0cb-a873-4d56-9c1e-74227e6bff3f"},"name":"Datalust.Web.Seq","version":"99.99.99"},"telemetry":{"sdk":{"language":"dotnet","name":"opentelemetry","version":"1.6.0"}}}}
{"@t":"2023-10-20T09:58:35.7753900Z","@mt":"datalust","@i":"80d4e8b6","@tr":"f0891c62aaa7f1f4fdf96827786ee9dc","@sp":"5d2deb50d0ca04a2","@st":"2023-10-20T09:58:35.7670660Z","@ps":"46bf236de00eaff4","@ra":{"service":{"instance":{"id":"41f1d0cb-a873-4d56-9c1e-74227e6bff3f"},"name":"Datalust.Web.Seq","version":"99.99.99"},"telemetry":{"sdk":{"language":"dotnet","name":"opentelemetry","version":"1.6.0"}}},"db":{"connection_id":486,"connection_string":"Host=localhost;Port=5432;Database=datalust;Username=postgres","name":"datalust","statement":"select * from datalust.release","system":"postgresql","user":"postgres"},"net":{"peer":{"ip":"::1","name":"localhost"},"transport":"ip_tcp"},"peer":{"service":"localhost"}}
{"@t":"2023-10-20T09:58:35.7781560Z","@mt":"Workflow step","@i":"1a01ce8c","@tr":"f0891c62aaa7f1f4fdf96827786ee9dc","@sp":"46bf236de00eaff4","@st":"2023-10-20T09:58:35.7669130Z","@ra":{"service":{"instance":{"id":"41f1d0cb-a873-4d56-9c1e-74227e6bff3f"},"name":"Datalust.Web.Seq","version":"99.99.99"},"telemetry":{"sdk":{"language":"dotnet","name":"opentelemetry","version":"1.6.0"}}},"StepId":"b4d9939aecf6470092f1595c53999d24","WorkflowStepState":"ReadOnly"}
{"@t":"2023-10-20T09:59:27.7860900Z","@mt":"POSTing to schedule check endpoint","@i":"0cc01c1f","Application":"Test Storefront"}
{"@t":"2023-10-20T09:59:27.7905200Z","@mt":"Checking and running jobs from queue until {DoNotStartAfter}","@i":"7ae953f9","@tr":"9b7096690675ab038dc3e8e8208c87f1","@sp":"1a1f8cd1769fdbf8","@ra":{"service":{"name":"Datalust.Web.Seq"},"telemetry":{"sdk":{"language":"dotnet","name":"serilog","version":"1.2.0-dev-00247"}}},"ActionId":"ed5db20c-e6b4-4c06-837d-59924452c54e","ActionName":"Datalust.Web.Seq.Api.Schedule.ScheduleApiController.Check (Datalust.Web.Seq)","Application":"Datalust.Web.Seq","ConnectionId":"0HMUG80VGECDE","DoNotStartAfter":"2023-10-20T09:59:47.7905110+00:00","ImageVersion":"99.99.99","JobRunnerInstance":"cef83da107b34016bf7a400133bb15bf","RequestId":"0HMUG80VGECDE:00000001","RequestPath":"/api/schedule/check","SourceContext":"Datalust.Web.Seq.Infrastructure.Scheduling.JobRunner"}
{"@t":"2023-10-20T09:59:27.7959680Z","@mt":"datalust","@i":"80d4e8b6","@tr":"9b7096690675ab038dc3e8e8208c87f1","@sp":"faa404d1f646e0cf","@st":"2023-10-20T09:59:27.7909930Z","@ps":"9e95aa32777bb7da","@ra":{"service":{"instance":{"id":"41f1d0cb-a873-4d56-9c1e-74227e6bff3f"},"name":"Datalust.Web.Seq","version":"99.99.99"},"telemetry":{"sdk":{"language":"dotnet","name":"opentelemetry","version":"1.6.0"}}},"db":{"connection_id":486,"connection_string":"Host=localhost;Port=5432;Database=datalust;Username=postgres","name":"datalust","statement":"\n                        update datalust.job\n                        set status = @Running,\n                            leasedby = @LeasedBy,\n                            leaseduntil = now() + interval '5 minutes',\n                            attemptsremaining = attemptsremaining - 1\n                        where id = (select id from datalust.job\n                                    where status in (@Waiting, @Running, @Failed) and\n                                        dueat < @MinimumDueAt and\n                                        (leasedby is null or leaseduntil < now()) and\n                                        attemptsremaining > 0\n                                    for update skip locked\n                                    limit 1)\n                        returning id;","system":"postgresql","user":"postgres"},"net":{"peer":{"ip":"::1","name":"localhost"},"transport":"ip_tcp"},"peer":{"service":"localhost"}}
{"@t":"2023-10-20T09:59:27.7987720Z","@mt":"Lease next job","@i":"babf7e54","@tr":"9b7096690675ab038dc3e8e8208c87f1","@sp":"9e95aa32777bb7da","@st":"2023-10-20T09:59:27.7908770Z","@ps":"28f26825c2caf584","@ra":{"service":{"instance":{"id":"41f1d0cb-a873-4d56-9c1e-74227e6bff3f"},"name":"Datalust.Web.Seq","version":"99.99.99"},"telemetry":{"sdk":{"language":"dotnet","name":"opentelemetry","version":"1.6.0"}}}}
{"@t":"2023-10-20T09:59:27.7988090Z","@mt":"Queue is exhausted","@i":"9094e2ac","@tr":"9b7096690675ab038dc3e8e8208c87f1","@sp":"28f26825c2caf584","@ra":{"service":{"name":"Datalust.Web.Seq"},"telemetry":{"sdk":{"language":"dotnet","name":"serilog","version":"1.2.0-dev-00247"}}},"ActionId":"ed5db20c-e6b4-4c06-837d-59924452c54e","ActionName":"Datalust.Web.Seq.Api.Schedule.ScheduleApiController.Check (Datalust.Web.Seq)","Application":"Datalust.Web.Seq","ConnectionId":"0HMUG80VGECDE","ImageVersion":"99.99.99","JobRunnerInstance":"cef83da107b34016bf7a400133bb15bf","RequestId":"0HMUG80VGECDE:00000001","RequestPath":"/api/schedule/check","SourceContext":"Datalust.Web.Seq.Infrastructure.Scheduling.JobRunner"}
{"@t":"2023-10-20T09:59:27.7989780Z","@mt":"Check job schedule","@i":"49dc34bb","@tr":"9b7096690675ab038dc3e8e8208c87f1","@sp":"28f26825c2caf584","@st":"2023-10-20T09:59:27.7908290Z","@ps":"1a1f8cd1769fdbf8","@ra":{"service":{"instance":{"id":"41f1d0cb-a873-4d56-9c1e-74227e6bff3f"},"name":"Datalust.Web.Seq","version":"99.99.99"},"telemetry":{"sdk":{"language":"dotnet","name":"opentelemetry","version":"1.6.0"}}}}
{"@t":"2023-10-20T09:59:27.7993150Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@i":"37aa1435","@r":["9.5327"],"@ra":{"service":{"name":"Datalust.Web.Seq"},"telemetry":{"sdk":{"language":"dotnet","name":"serilog","version":"1.2.0-dev-00247"}}},"Application":"Datalust.Web.Seq","ConnectionId":"0HMUG80VGECDE","Elapsed":9.532667,"ImageVersion":"99.99.99","RequestId":"0HMUG80VGECDE:00000001","RequestMethod":"POST","RequestPath":"/api/schedule/check","SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","StatusCode":200}
{"@t":"2023-10-20T09:59:27.7996130Z","@mt":"api/schedule/check","@i":"6bc7132d","@tr":"9b7096690675ab038dc3e8e8208c87f1","@sp":"1a1f8cd1769fdbf8","@st":"2023-10-20T09:59:27.7894880Z","@ra":{"service":{"instance":{"id":"41f1d0cb-a873-4d56-9c1e-74227e6bff3f"},"name":"Datalust.Web.Seq","version":"99.99.99"},"telemetry":{"sdk":{"language":"dotnet","name":"opentelemetry","version":"1.6.0"}}},"http":{"flavor":"1.1","method":"POST","route":"api/schedule/check","scheme":"http","status_code":200,"target":"/api/schedule/check","url":"http://localhost:8080/api/schedule/check"},"net":{"host":{"name":"localhost","port":8080}}}
{"@t":"2023-10-20T09:59:31.0309300Z","@mt":"Health check {Method} {TargetUrl} {Outcome} with status code {StatusCode} in {Elapsed:0.000} ms","@i":"decf5ef6","@r":["162.690"],"ContentLength":3057,"ContentType":"text/html; charset=UTF-8","Elapsed":162.6898,"HealthCheckTitle":"Check health","InitialContent":"<!DOCTYPE html>\n","Method":"GET","Outcome":"succeeded","ProbeId":"xoX6j3b6djxc","StatusCode":200,"TargetUrl":"https://www.withouttheloop.com"}
